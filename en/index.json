[{"content":"需要的硬件和软件 硬件 一台有网线接口的电脑 内存2GB以上的树莓派4B+ 8GB以上的小SD卡，可以插在树莓派上 SD卡的读卡器 一根网线 显示器（非必须），Micro USB - HDMI线（非必须） 软件 Balena Etcher，MacBook用户可以选择下载这个，也可以选择用命令行代替 VM Virtual Box和Ubuntu虚拟机，非必须，用于编译OpenWrt固件，不过也可以选择下载别人编译好的固件。有一点需要注意，我第一次编译60GB就足够了，但是第二次希望编译一个固件库，想把所有功能全部选上，60GB不够，建议分配128GB储存 SecureCRT或PuTTy，非必须，不知道大家用什么命令行终端，但是我MacBook和Windows都是用系统自带的命令行终端 获得镜像 下载镜像 可以从OpenWrt的官网下载镜像\n但我是比较能折腾的，我找到了这个仓库：Lean，readme有比较详细的编译步骤，于是决定自己尝试一下。可以先在本地编译一次熟悉一下编译的流程，然后再使用GitHub Actions编译。\n本地编译 第一次编译 首先在Ubuntu上clone repo\nhttps://github.com/coolsnowwolf/lede.git 安装依赖包\nsudo apt update -y sudo apt full-upgrade -y sudo apt install -y ack antlr3 asciidoc autoconf automake autopoint binutils bison build-essential \\ bzip2 ccache cmake cpio curl device-tree-compiler fastjar flex gawk gettext gcc-multilib g++-multilib \\ git gperf haveged help2man intltool libc6-dev-i386 libelf-dev libfuse-dev libglib2.0-dev libgmp3-dev \\ libltdl-dev libmpc-dev libmpfr-dev libncurses5-dev libncursesw5-dev libpython3-dev libreadline-dev \\ libssl-dev libtool lrzsz mkisofs msmtp ninja-build p7zip p7zip-full patch pkgconf python3 \\ python3-pyelftools python3-setuptools qemu-utils rsync scons squashfs-tools subversion swig texinfo \\ uglifyjs upx-ucl unzip vim wget xmlto xxd zlib1g-dev 更新feed并选择配置\ncd lede ./scripts/feeds update -a ./scripts/feeds install -a make menuconfig 输入这个命令后就开启了配置页面，我使用的是树莓派4B，我目前的常用场景有见这里\n# 编译的目标系统 TargetSystem: - Broadcom BCM27xx Subtarget: - BCM2711 boards (64 bit) TargetProfile: - Raspberry Pi 4B/400/4CM (64bit) # 镜像参数 TargetImages: - ext4 # ext4格式的固件可方便地调整分区大小 - squashfs # squashfs格式的固件可恢复出厂设置 - KernelPartitionSize: 64 # boot分区大小为64M - RootFilesystemPartitionSize: 2048 # root分区大小为2048M # 可选工具 BaseSystem: - block-mount # 在LuCI界面添加\u0026lt;挂载点\u0026gt;菜单 - blockd # 自动挂载设备 - wireless-tools # 无线扩展工具 Administration: - htop # 添加htop命令 # 文件系统 KernelModules: Filesystems: - kmod-fs-ext4 - kmod-fs-f2fs - kmod-fs-ntfs - kmod-fs-squashfs - kmod-fs-vfat - kmod-fuse # # 网卡支持 # NetworkDevices: # - kmod-xxx # 有线网卡支持，跟以下几项可根据需求选择性添加 NetworkSupport: - kmod-wireguard # WirelessDrivers: # - kmod-rt2800-usb # 添加Ralink RT5370芯片的USB无线网卡驱动 USBSupport: - kmod-usb-net: # - kmod-usb-net-asix # 添加支持亚信的有线网卡支持 # - kmod-usb-net-asix-ax88179 # 添加USB3.0的有线网卡芯片AX88179的驱动 # - kmod-usb-net-rtl8152 # 添加USB2/3的有线网卡RTL8152/3芯片支持 # - kmod-usb-net-sr9700 # 添加USB2.0的有线网卡SR9700芯片支持 - kmod-usb-core # 启用USB支持 - kmod-usb-hid # USB键鼠支持 # - kmod-usb-ohci # 添加OHCI支持，老USB才需要 - kmod-usb-storage # 启用USB存储 - kmod-usb-storage-extras # - kmod-usb-uhci # 添加UHCI支持，老USB才需要 - kmod-usb2 # 开启USB2支持 - kmod-usb3 # 开启USB3支持 # LuCI设置 LuCI: Collections: - luci # 开启luci Modules: Translations: - Chinese(zh-cn) # 中文支持 Themes: - luci-theme-agron # 添加主题 # LuCI应用 Applications: - luci-app-adguardhome # 去广告 - luci-app-advanced-reoot - luci-app-alist # 文件共享 - luci-app-aria2 # 下载工具 - luci-app-cloudflared - luci-app-ddns - luci-app-diskman - luci-app-dockerman - luci-app-filebrowser # 文件管理 - luci-app-filetransfer - luci-app-firewall # 防火墙 # - luci-app-frps # - luci-app-frpc # 内网穿透 # - luci-app-hd-idle # 硬盘休眠 # - luci-app-lucky - luci-app-opkg # 软件包 # - luci-app-openvpn # - luci-app-openvpn-server - luci-app-passwall # - luci-app-qos # 服务质量 - luci-app-samba # 网络共享 - luci-app-smartdns - luci-app-upnp # UPnP服务 # - luci-app-usb-printer - luci-app-wol # 网络唤醒 Protocols: - luci-protocol-wireguard # 网络工具 Network: DownloadManager: - ariang # Aria2管理页面 FileTransfer: - curl # 添加curl命令 - wget-ssl # 添加wget命令 IP Addresses and Names: - ddns-scripts-cloudflare - drill VPN: - wireguard-tools # 实用工具 Utilities: Compression: - bsdtar # tar打包工具 - gzip # GZ 压缩套件 Disc: - fdisk # 磁盘分区工具 - lsblk # 磁盘查看工具 Filesystem: - f2fs-tools - ntfs-3g # NTFS读写支持 - resize2fs # 分区大小调整 Terminal: - screen # 添加screen - losetup - pciutils # 添加lspci命令 - qrencode - usbutils # 添加lsusb命令 配置完成后选择Save，会保存为一个.config文件。在最后一步安装之前还需要安装screen，用于创建持久会话，否则如果不小心关了ssh之前编译的就都没了（你猜我是怎么知道的）\nsudo apt install screen screen -S buildlede 最后执行命令用8个线程下载dl库，第一次编译用1个线程编译。在这里一开始我用的AWS的Ubuntu一直下不下来，没有办法换成了本地的Ubuntu虚拟机才下载编译成功\nmake download -j8 make V=s -j1 然后就是等待编译，编译完成后在bin\\targets可以选择openwrt-bcm27xx-bcm2711-rpi-4-squashfs-factory.img.gz这个版本进行烧录\n单独编译 有时候用着用着发现我们需要安装一个插件，这种情况下我们可以单独编译一个插件\n编辑.config文件\nmake menuconfig 找到我们想单独编译的插件，比如luci-app-diskman，这是个管理路由器上的磁盘和分区的插件，第一次编译选择为[*]，意思是作为一个内置模块编译，不可以卸载。这次的话我们可以选择为[M]，意思是作为一个模块编译\n使用如下命令可以编译\nmake package/luci-app-diskman/compile V=s 编译完成后在/bin/packages/aarch64_cortex-a72/luci文件夹下能找到luci-app-diskman_v0.2.11_all.ipk\n打开openwrt，System → File Transfer选择文件上传，右下角安装就可以了\n我安装完后OpenWrt没有立刻出现新安装的插件，过了一段时间才出现的\n如果要单独编译内核模块，比如kmod-wireguard，可以在kernel module中选中它为[M]，然后运行\nmake package/kernel/linux/compile V=s 很快编译就完成了，编译出来的包在bin/packages/\u0026lt;target\u0026gt;/\u0026lt;package-repo\u0026gt;/kmod-wireguard_xxx.ipk\n第二次编译 拉取最新feeds\nsudo sh -c \u0026#34;apt update \u0026amp;\u0026amp; apt upgrade -y\u0026#34; git pull ./scripts/feeds update -a \u0026amp;\u0026amp; ./scripts/feeds install -a 清除旧的编译产物（可选）\nmake clean # 源码有大规模更新或者内核更新后执行，以保证编译质量 # 此操作会删除 /bin 和 /build_dir 目录中的文件 make dirclean # 如果要更换架构，例如要从 x86_64 换到 MediaTek Ralink MIPS 建议执行以下命令深度清理 # 此操作会删除 /bin 和 /build_dir 目录的中的文件（make clean），以及 /staging_dir、/toolchain、/tmp 和 /logs 中的文件 编译\nmake defconfig make download -j8 find dl -size -1024c -exec ls -l {} \\; make -j$(nproc) || make -j1 || make -j1 V=s GitHub Actions编译 熟悉了本地编译的流程之后就推荐使用GitHub Actions进行编译了，这样可以把脏活累活全部交给云，本来想自己写Workflow的yaml，但是找到了这个仓库，决定还是不重复造轮子了哈哈哈。\n注意如果希望自动将Artifact发布到Release的话，需要赋予PAT权限，在Settings → Developer Settings → Personal access tokens → Tokens (classic) → 你的Token，勾选workflow和write:packages\n尝试了一下如果只选择必要的插件，是可以编译成功的，但是如果选择的插件多了Runner分配的14GB储存是不够的，需要拆分工作流。\n制作Docker镜像 如果希望将OpenWrt系统制作为Docker镜像\n首先解压镜像文件，这里我们选择openwrt-bcm27xx-bcm2711-rpi-4-ext4-factory.img.gz\ngzip -d openwrt-bcm27xx-bcm2711-rpi-4-ext4-factory.img.gz 挂载镜像文件\nsudo losetup -fP openwrt-bcm27xx-bcm2711-rpi-4-ext4-factory.img sudo mount /dev/loop0p2 /mnt 制作rootfs.tar\nsudo tar -C /mnt -czf rootfs.tar . sudo umount /mnt sudo losetup -d /dev/loop0 创建Dockerfile\nFROM arm64v8/alpine:latest ADD rootfs.tar / CMD [\u0026#34;/sbin/init\u0026#34;] 构建Docker镜像\nsudo docker buildx build --platform linux/arm64 -t openwrt-docker --load . 上传到Dockerhub\nsudo docker tag openwrt-docker dockerhub-username/openwrt-docker:latest sudo docker push dockerhub-username/openwrt-docker:latest 然后回到树莓派，拉取镜像，注意这里最好用命令行\ndocker pull dockerhub-username/openwrt-docker:latest 创建一个容器来运行镜像\ndocker run -it --name openwrt-docker dockerhub-username/openwrt-docker:latest 烧录 直接烧录的image我们选择openwrt-bcm27xx-bcm2711-rpi-4-squashfs-factory.img.gz\nWindows 可以使用Balena Etcher或者其他的disk imager软件将image烧录到SD卡中，非常简单，按顺序一步一步来即可\nMacOS MacOS也可以使用Balena Etcher将镜像导入到SD卡中，但是我不喜欢下乱七八糟的软件，干脆直接使用命令行了\n找到SD卡的磁盘编号，这里我的SD卡磁盘为/dev/disk4\ndiskutil list /dev/disk4 (external, physical): #: TYPE NAME SIZE IDENTIFIER 0: FDisk_partition_scheme *7.9 GB disk4 1: Windows_FAT_32 BOOT 67.1 MB disk4s1 2: Linux 109.1 MB disk4s2 (free space) 7.7 GB - 由于我这里以前装过一个不带GUI版本的OpenWrt，SD卡多了几个分区，这次打算重新装一个带着GUI的\n首先恢复分区，这个命令同时把SD卡进行格式化\ndiskutil eraseDisk FAT32 SDCARD MBRFormat /dev/disk4 恢复分区之后\ndiskutil list /dev/disk4 (external, physical): #: TYPE NAME SIZE IDENTIFIER 0: FDisk_partition_scheme *7.9 GB disk4 1: DOS_FAT_32 SDCARD 7.9 GB disk4s1 输入以下命令卸载（但不移除） SD 卡，否则会显示busy\ndiskutil unmountDisk /dev/disk4 解压下载的image\ngunzip ./openwrt-bcm27xx-bcm2711-rpi-4-squashfs-factory.img.gz 使用 dd 写入解压后的 .img 文件，注意这一步千万不要抄错了磁盘编号，否则伤害不可逆，dd是个很强的命令\nsudo dd if=/Users/xxx/Desktop/openwrt-bcm27xx-bcm2711-rpi-4-squashfs-factory.img of=/dev/disk4 bs=1M status=progress 如果不报错一般就是成功了\n最后将SD卡从电脑拔出，插到树莓派上，启动树莓派，这时使用网线将树莓派的以太网接口和电脑的以太网接口相连。由于OpenWrt 默认将树莓派的eth0接口桥接到br-lan并使用 IP 地址 192.168.1.1，我们要配置一下电脑端的Ethernet接口是否也在192.168.1.x的子网，x可以选2 - 255的随便一个数\n当树莓派就跟电脑在相同子网后，在浏览器中输入192.168.1.1，就能登录到OpenWrt的GUI（LuCI）了，默认用户名和密码是root和password\n大功告成了\n连接路由器 我家主路由器使用的子网为192.168.2.x，需要将树莓派改为这个子网下（当然如果主路由器子网为192.168.1.x的话就不用多折腾这一步了）。我们先禁用桥接模式和修改IP地址\nvi /etc/config/network 修改文件为\nconfig interface \u0026#39;lan\u0026#39; option device \u0026#39;eth0\u0026#39; option proto \u0026#39;static\u0026#39; option ipaddr \u0026#39;192.168.2.66\u0026#39; option netmask \u0026#39;255.255.255.0\u0026#39; option gateway \u0026#39;192.168.2.1\u0026#39; option dns \u0026#39;192.168.2.1\u0026#39; option ip6assign \u0026#39;60\u0026#39; 禁用DHCP，防止跟主路由器的DHCP冲突\nvi /etc/config/dhcp config dhcp \u0026#39;lan\u0026#39; option interface \u0026#39;lan\u0026#39; option ignore \u0026#39;1\u0026#39; 检查防火墙配置\nvi /etc/config/firewall config zone option name \u0026#39;lan\u0026#39; list network \u0026#39;lan\u0026#39; option input \u0026#39;ACCEPT\u0026#39; option output \u0026#39;ACCEPT\u0026#39; option forward \u0026#39;ACCEPT\u0026#39; 应用设置\n/etc/init.d/network restart 这时由于我们电脑还在192.168.1.x子网，但是树莓派已经到了192.168.2.x子网了，所以连接必定是断开的，我们再把电脑端的Ethernet端口改回192.168.2.x子网，就又能重新访问了\n将树莓派与电脑断开连接，插到路由器的LAN口上，应该能正常访问网络，而且电脑也能访问树莓派了\n设置旁路由 以上步骤只是将树莓派作为一个用网设备加入了家庭的局域网，我们的终端设备还是沿着主路由这条线进行通信，要想作为旁路由还需要进一步设置\n其实很简单，我们只要将Wifi的网关从路由器之前DHCP自动分配的地址改为旁路由树莓派即可，假设我的主路由器IP地址为192.168.2.1，我的电脑IP地址为192.168.2.54，我的树莓派的IP地址为192.168.2.66，我需要这么修改：\nMacBook也一样\n同样的iPhone也可以设置，这里我就不放图了\n因为怕炸网我暂时先使用这种非侵入式的设置，它只影响把网关设置为软路由的终端，这样一旦网坏了只影响部分设备，或者我修改一下网关修改到主路由器的IP地址就可以了\n详见：软路由做旁路由三步搞定！openwrt软路由 R2S R4S openwrt软路由上网设置\n安装插件 卸载插件 可以在System → Software → Installed中卸载插件 注意直接编译进内核固件的插件无法卸载 安装插件 直接安装 国外使用\nsrc/gz openwrt_core https://downloads.openwrt.org/releases/23.05.0/targets/bcm27xx/bcm2711/packages src/gz openwrt_base https://downloads.openwrt.org/releases/23.05.0/packages/aarch64_cortex-a72/base src/gz openwrt_luci https://downloads.openwrt.org/releases/23.05.0/packages/aarch64_cortex-a72/luci src/gz openwrt_packages https://downloads.openwrt.org/releases/23.05.0/packages/aarch64_cortex-a72/packages src/gz openwrt_routing https://downloads.openwrt.org/releases/23.05.0/packages/aarch64_cortex-a72/routing src/gz openwrt_telephony https://downloads.openwrt.org/releases/23.05.0/packages/aarch64_cortex-a72/telephony 国内使用\nsrc/gz openwrt_core https://mirrors.tencent.com/lede/snapshots/targets/bcm27xx/bcm2711/packages src/gz openwrt_base https://mirrors.tencent.com/lede/snapshots/packages/aarch64_cortex-a72/base src/gz openwrt_luci https://mirrors.tencent.com/lede/releases/18.06.9/packages/aarch64_cortex-a72/luci src/gz openwrt_packages https://mirrors.tencent.com/lede/snapshots/packages/aarch64_cortex-a72/packages src/gz openwrt_routing https://mirrors.tencent.com/lede/snapshots/packages/aarch64_cortex-a72/routing src/gz openwrt_telephony https://mirrors.tencent.com/lede/snapshots/packages/aarch64_cortex-a72/telephony 自己编译 首先需要在Ubuntu上编译插件\nmake menuconfig 在LuCI → Applications可以把固件全选上，毕竟我们是做个固件库，之后有啥需求就装啥。选择时应该模块化，按空格让前面括号里出现一个M。保存后回到命令行开始编译\nmake -j1 V=s 编译完成后在bin\\packages中就能找到我们编译的全部插件了，而且都为.ipk格式\n常见使用场景 去广告 所需插件（具体配置路径见这里） luci-app-adguardhome 配置参考：【韩风Talk】Openwrt插件对广告说不，怎么做？两款热门插件随你用！_哔哩哔哩_bilibili 外网访问我的Windows台式机 Wireguard Wireguard因为比OpenVPN轻量化速度更快，因此是我目前首选 所需插件（具体配置路径见这里） kmod-wireguard luci-proto-wireguard wireguard-tools luci-app-wireguard（可以不选，而且在我的menuconfig没找到） 配置参考：OpenWrt配置Wireguard | Kunyang\u0026rsquo;s Blog ZeroTire 所需插件\nluci-app-zerotire 配置参考：【韩风Talk】Openwrt的Zerotier插件玩法，异地组网不求人，大虚拟局域网走起！_哔哩哔哩_bilibili\nOpenVPN 所需插件 luci-app-openvpn luci-app-openvpn-server luci-i18n-openvpn-server-zh-cn luci-i18n-openvpn-zh-cn open-vpn-easy-rsa openvpn-openssl 文件管理 文件管理器 luci-app-filebrowser luci-app-filetransfer luci-app-samba 配置参考：【韩风Talk】Openwrt文件管理的玩法合集，这期顺便解决中文乱码问题！_哔哩哔哩_bilibili 云盘管理器 luci-app-alist luci-app-cloudflared 配置参考：OpenWrt配置AList | Kunyang\u0026rsquo;s Blog ","permalink":"https://kyxie.me/en/blog/tech/router/raspberrypi-openwrt/","summary":"需要的硬件和软件 硬件 一台有网线接口的电脑 内存2GB以上的树莓派4B+ 8GB以上的小SD卡，可以插在树莓派上 SD卡的读卡器 一根网线 显示器（非必","title":"使用树莓派4B+安装OpenWrt用作旁路由"},{"content":"Mac用户非常推荐使用Homebrew来安装一些软件，就Python来说如果在官网直接下载会在Launch Pad出现IDLE和Python Launcher两个图标，个人感觉很丑。\n其实MacOS Catalina只有系统就预装了Python3了（在这之前是Python2），如果只想处理一些基本的Python功能直接用系统自带的就好了，但是为了方便版本控制还是挺推荐使用Homebrew再下载一个版本方便管理，避免影响系统的Python。\n安装步骤 首先需要安装Xcode Command Line Tools，Homebrew依赖这些工具来正常工作，可以在命令行直接输入命令。其实安装完这个git也就顺带着一起安装了，但是一样的道理，还是推荐使用Homebrew再安装一个版本的git。\nxcode-select --install 安装Homebrew\n/bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026#34; 可能需要输入密码\n验证安装以及更新到最新版本\nbrew -v brew update 安装Python\nbrew install python 这时系统里可能有两个Python，我们需要指定使用哪个Python\nwhich python3 /usr/bin/python3\t# 出现这个就是还在用系统自带的python 我们找到通过Homebrew安装的Python的位置\nbrew --prefix python /opt/homebrew/opt/python@3.13 打开环境变量配置文件，MacOS Catalina之后默认为zsh\nvim ~/.zshrc 在最后一行加入\nexport PATH=\u0026#34;/opt/homebrew/opt/python@3.13/bin:$PATH\u0026#34; 保存，刷新file\nsource ~/.zshrc 然后再查看一下当前使用的哪个Python版本\nwhich python3 /opt/homebrew/opt/python@3.13/bin/python3\t# Homebrew版本 安装git\nbrew install git 验证安装\ngit -v 一般来说git不会出现像Python一样设置PATH的问题。\n配置git的邮箱和用户名，如果要使用GitHub来管理仓库的话，要保持这个邮箱和用户名和GitHub一致\ngit config --global user.name \u0026#34;Your Name\u0026#34; git config --global user.email \u0026#34;your.email@example.com\u0026#34; ","permalink":"https://kyxie.me/en/blog/tech/utils/python-and-git-for-macos/","summary":"Mac用户非常推荐使用Homebrew来安装一些软件，就Python来说如果在官网直接下载会在Launch Pad出现IDLE和Python L","title":"使用Homebrew在M芯片的MacBook安装Python和Git"},{"content":"Header It\u0026rsquo;s been a while since I tinkered with my bike. I just bought a roval aero handlebar recently and plan to run the cables internally to make it looks better. I disassembled the bike myself to try it out, but dealing with the Shimano 7020 setup with two hydraulic cables and two shift cables (a total of four lines) was quite a challenge. This led me to consider buying a Shimano 8170 set, so I started browsing major Canadian bike websites. To my surprise, a Shimano 8170 set costs at least $3000, and it\u0026rsquo;s around $4000 after tax. I checked the prices on AliExpress, and they have dropped to ￥8000 (which is around C$1500) in China after tax, so I decided to airfreight a groupset from China. I\u0026rsquo;ll start a post here to document the entire bike setup process.\nDisassemble the Bike While planning to upgrade the components and change the handlebar, I decided to do a major bike maintenance, which took me a very long time:\nFirst, I didn\u0026rsquo;t know which bottom bracket tool to use. After searching for a while, I found out my bottom bracket is a threaded type (SM-BBR60 BSA). So, I ordered the tool from Temu and waited for half a month.\nNext, I couldn’t get the bottom bracket off, so I went to The Home Depot to buy a rubber hammer and a wire cutter.\nThen, I struggled with removing the shift cables. After removing the screws from the 7020 hand shifters, I discovered that the cable ends need to align with the holes for the shifters (a tip for those doing it themselves: be brave and disassemble as needed; generally, it won’t be impossible to reassemble, and disassembling will help you understand how it works).\nThen, I couldn’t cut the hydraulic hoses. I watched this video and found out I should use a small knife.\n\u003c!DOCTYPE HTML\u003e\rThen, I found out routing the shift cables internally through the frame is very challenging. However, I soon discovered there are specialized tools for this, so I used the old shift cables as a guide tool (at this point, I hadn\u0026rsquo;t planned to upgrade the components yet and wanted to keep using the 7020).\nThen, I realized I had cut the front brake hose too short.\nThen, I found out the four cables couldn’t all be routed through the handlebar simultaneously.\nBy this point, since my shifter had no oil plug, the brake fluid had splattered all over the new handlebar (this was when I firmly decided to upgrade the components).\nI gave up and listed the 7020 components for sale on Facebook marketplace (It is really nice that I\u0026rsquo;ve sold all of them for $600).\nComponent List：\nFrame: Specialized Tarmac SL6 Sport Groupset: Shimano Ultegra R8170 Di2 Front Wheel: Roval Rapide CLII Rear Wheel: Roval Rapide CLX Handle Bar: Roval Rapide Handlebar 400mm Stem: Specialized Future Stem 100mm Saddle: Specialized Power Comp Seatpost: S-Works Carbon Seatpost Padel: Shimano Dura-Ace PD R9100 Bar Tape: Supacaz Super Sticky Kush Tire: Continental GP5000 25c Bike Computer: Garmin Edge 530 Rear Derailleur Hanger: Sigeyi Saddle Bag: Silca Mattone Seat Pack Bar Tape: Rapha Expore Bar Bag 2.4L Installing Rear Brake Caliper First, install the rear brake caliper. Remove the fork, then when routing the hydraulic hose, extend it out through the head tube. Next, put on a protective cover to prevent noise, and then route the hose out from the head tube opening.\nRouting the hydraulic brake hoses inside the bike frame is really difficult, but the guide wire I bought from AliExpress really saved my ass.\nThen use screws to secure the rear caliper, making sure to place the special screws in the rear.\nDon\u0026rsquo;t forget to install the spacer.\rFinally, install the safety pin.\nFront Brake Caliper Routing the front fork was so painful; once again, thanks to the guide wire I bought from AliExpress. Barset Attach the shifters to the handlebars, place them on the ground or use a laser tool to adjust for balance. Be sure not to forget to tighten the headset expander, and make sure the arrow on the headset expander is aligned with the gap in the stem bolts (some bikes require alignment at the front). Adjust the headset spacers. Secure the handlebars to the stem. Tighten the headset cover. Tighten the stem screws. Mount the computer mount onto the stem. Battery Secure the battery inside the seat post. A dedicated Di2 battery holder is recommend, but I just used electrical tape to hold it in place.\nThe three battery wires form an isosceles triangle: the top wire connects to the rear derailleur, the left one to the front derailleur, and the remaining one stays in place. However, don’t remove the protective sleeve.\nRear Derailleur I chose Sigeyi direct rear derailleur hanger, (I accidentally bought the green one, but it\u0026rsquo;s really too ugly), so I needed to remove the original derailleur hanger first. I tried unscrewing it for a long time, but it was too tight so I had no choice but to go to a bike shop for help.\nUse the tool provided by Shimano to connect the wires, linking the rear derailleur to the battery and the front derailleur to the battery.\nDownload the E-TUBE app on the phone, press and hold the rear derailleur button for 2 seconds (but not too long) to start pairing. Make sure the rear derailleur has a sufficient charge before proceeding.\nDon’t forget to install the wire plugs.\nFront Derailleur Here, the wire needs to loop around once before entering the frame and finally connecting to the battery inside the seat post.\rBe careful not to forget to install the wire plugs.\nShimano includes a wire bending accessory for the front derailleur in the kit.\nShifters Routing hoses\nFirst, cut the hose. Align the hydraulic hose with the end of the shifter, make a mark, then make another mark 21mm behind the first one. The second mark is the place that the hose should be cut.\nUse a dedicated cutting tool to cut the hose.\nRemove the shifter hose plug screw. Be sure to place a piece of paper underneath to absorb any oil, then take out the olive.\nThread the shifter hose plug screw onto the hose first, then insert the olive, and finally use a specialized insertion tool to push the oil pin into the hose (if you insert the pin first, the olive might not fit).\nTighten the screw with a torque of 8Nm. Make sure to tighten it properly, as a loose screw can cause oil leaks.\nBleeding the brake\nFirst, remove the wheel set, making sure not to let the disc rotor come into contact with oil. Next, remove the brake caliper’s brake pads, ensuring they do not come into contact with oil too. After removing them, use a hex wrench to forcefully push the pistons open as wide as possible. Then, use a specialized tool to hold the pistons in place. Unscrew the hydraulic reservoir screw. The oil filling tool comes with a specific connector; make sure to screw on the connector first before attaching the oil cup (some tools might be integrated without a separate connector, but ensure everything is tightly screwed on, as direct insertion is not sufficient). Otherwise, you may experience oil leakage. Insert the syringe with the attached hose into the caliper, then open the oil filling screw to begin the oil injection. While injecting the oil, you can gently tap the hose to help expel air. Note that when the oil filling screw is not tightened, the brake lever will go all the way to the handlebar. Only when the oil filling screw is tightened will the lever stop before reaching the handlebar. Wipe off any excess oil. Bottom Bracket My bottom bracket specification is SM-BBR60 BSA, a threaded bottom bracket. Crankset Don\u0026rsquo;t forget the grease.\nTighten the screw with a torque of 13Nm.\nChain The side of the chain with the markings should face outward.\nWe need to determine the chain length. I used this method:\n\u003c!DOCTYPE HTML\u003e\rNote: When cutting the chain, make sure that both ends of the chain we need are inner plates (the image below is just to illustrate what inner and outer plates are; Shimano chains typically use quick links, and it is rare to use such pins). If one end is an inner plate and the other is an outer plate, the quick link will not fit. Additionally, it is very difficult to cut off just one outer plate using a chain tool.\nThe method shown in the image can also be used. When I installed the chain, I accidentally cut off an extra link or two, making the chain shorter. As it turns out, removing one or two links doesn\u0026rsquo;t have a significant impact.\nThe quick link can be difficult to install for the first time. We need to rotate the quick link to the upper left of the crankset, making sure the crankset is facing forward. At this point, apply force with your foot to press down on the crankarm, and the quick link should snap into place.\nGroupset First, set the drivetrain to the largest cog, then adjust the tension screw. Use the caliper provided by Shimano to adjust the distance between the rear derailleur and the largest cog.\nThen, in the E-TUBE software, select Maintenance and follow the steps to adjust the front derailleur. Note that the diagram in the software is viewed from above, looking down.\n\u003c!DOCTYPE HTML\u003e\rThen, set the rear derailleur to the fifth largest cog, and use the software to fine-tune it so that the derailleur and cog are aligned on the same horizontal plane.\nFinally, with the derailleur set to the largest cog, adjust the limit screws so that both screws are close to the limit plates but leave a small gap.\n\u003c!DOCTYPE HTML\u003e\rWrapping the Bar Tape Lastly, it’s time to wrap the handlebar tape. Although I’ve wrapped it many times, I still struggle with it. It’s best to find two examples, one for the left and one for the right side, otherwise, I\u0026rsquo;ll get confused. There are probably plenty of tutorials online as well.\nWhen tightening with electrical tape, wrap the tape around the handlebars a few times to ensure the tape stays in place; otherwise, the handlebar tape may slide down.\nI remember when I first wrapped the handlebar tape, I searched on Bilibili for a long time and only found one GCN tutorial. It’s clear now that road biking has really become popular.\nFooter Some pics about my bike: )\nThe YouTube videos come from:\n","permalink":"https://kyxie.me/en/blog/life/bike/","summary":"Header It\u0026rsquo;s been a while since I tinkered with my bike. I just bought a roval aero handlebar recently and plan to run the cables internally to make it looks better. I disassembled the bike myself to try it out, but dealing with the Shimano 7020 setup with two hydraulic cables and two shift cables (a total of four lines) was quite a challenge. This led me to consider buying","title":"Specialized Tarmac SL6 Bike Building"},{"content":"Installation process First of all, installing Hugo is required. Installing Hugo needs to use a package management tool. For the Windows system, I recommend using Scoop. Here introduced how to install Scoop. Hogo\u0026rsquo;s tutorial introduces how to create a project. Among them, Step2 (.yml\u0026rsquo;s config file) and Step3 (download theme) should be configured according to the guide of Papermod. File introduction content: used to put blog content data: don\u0026rsquo;t care layouts: custom HTML public: project export file resources: custom CSS and JavaScript Static: storage pictures themes: theme Files inside themes/Papermodare the relevant code of PaperMod. The main directory is:\nassets: CSS and JavaScript code of Papermod layouts: HTML of Papermod Create an article Enter the hugo new article name.md to create a Markdown file under thecontent folder. The article head information can modify the attributes of this article.\nYAML Front Matter Here is my yaml front matter file, for details: Front Matter | Hugo (gohugo.io)\n--- title: \u0026#34;{{ replace .Name \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; date: {{ .Date }} lastmod: {{ .Date }} author: [\u0026#34;Kyrie\u0026#34;] categories: - categorie 1 - categorie 2 tags: - tag 1 - tag 2 description: \u0026#34;\u0026#34; weight: # 1 means pin the article, sort articles according to this number slug: \u0026#34;\u0026#34; draft: false # draft or not comments: true showToc: true # show contents TocOpen: true # open contents automantically hidemeta: false # hide information (author, create date, etc.) disableShare: true\t# do not show share button showbreadcrumbs: true # show current path cover: image: \u0026#34;\u0026#34; caption: \u0026#34;\u0026#34; alt: \u0026#34;\u0026#34; relative: false --- Local preview Enter the hugo server -d in the terminal. It is recommended to create a newly created .bat file to execute this instruction. After starting the server, open the browser, and the local preview URL is localhost: 1313. Website deployment I use GitHub Page.\nCreate a repository in GitHub, the name is yourname.github.io. When we preview the local preview is okay, enter hugo -f --cleanDestinationDir in the terminal, and the output file will be generated under the public folder. We use the public folder as a local repository for GitHub Page. Each time the output file is generated, it is pushed to Github, and Github Page will automatically deploy it. Multi-language If we want to use multi-language (Chinese and English as an example), we need to prepare two folders under the content folder, such asChinese and English, one in Chinese and the other in English. The following modification is needed in config.yml: defaultContentLanguage: en defaultContentLanguageInSubdir: true languages: en: languageName: \u0026#34;English\u0026#34; contentDir: content/English zh: languageName: \u0026#34;中文\u0026#34; contentDir: content/Chinese Translate markdown files using this tool.\nSearch function Create search.md (hugo new search.md) under the folder of Chinese and English, and modify the file header: title: \u0026#34;Search\u0026#34; date: ... draft: false layout: search Add to config.yml: menu: main: -identifier: Search name: Search url: search weight: ... Hover It is mainly modified in the themes/Papermod/assets/css/common/header.css.\nHome button hover: .logo a:hover { transition: 0.15s; color: grey; } Social media hover: svg:hover { transition: 0.15s; } .social-icons a:nth-child(1) svg:hover{ color: #C84370 !important; } .social-icons a:nth-child(2) svg:hover { color: grey !important; } ... nth-child can set the hover color of each icon.\nNight mode and day mode hover: #moon:hover { transition: 0.15s; color: deepskyblue; } #sun:hover { transition: 0.15s; color: gold; } Hover of links in menu: #menu a:hover { transition: 0.15s; color: grey; } Button hover: Modified in the themes/Papermod/assets/css/common/profile-mode.css:\n.button:hover { -webkit-transform: scale(1.1); -moz-transform: scale(1.1); -ms-transform: scale(1.1); -o-transform: scale(1.1); /* box-shadow: 0 0 0 1px grey; */ transform: scale(1.1) translateZ(0) translate3d(0, 0, 0) rotate(0.01deg); } Custom social media icon Use SVG icons to make websites, such as icons8, find the icons we need, such as WeChat. You can use Stroke on the left menu bar to adjust the thickness of the lines. Click download,SVG Embed, the size of the custom icon is 24*24, and then click copy HTML. Paste the replicated HTML in the themes/Papermod/layouts/partials/svg.html. You need to modify it to fill=currentColor stroke=currentColor to adapt to the day and night switch. WeChat and Weibo icons: {{- else if (eq $icon_name \u0026#34;wechat\u0026#34;) -}} \u0026lt;svg xmlns=\u0026#34;http://www.w3.org/2000/svg\u0026#34; x=\u0026#34;0px\u0026#34; y=\u0026#34;0px\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 50 50\u0026#34;\u0026gt; \u0026lt;g fill=\u0026#34;currentColor\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34;\u0026gt; \u0026lt;path d=\u0026#34;M 19 6 C 9.746094 6 2 12.359375 2 20.5 C 2 24.894531 4.292969 28.679688 7.835938 31.324219 L 5.179688 39.304688 L 13.472656 34.167969 C 15.1875 34.707031 17.082031 35 19 35 C 19.746094 35 20.472656 34.945313 21.195313 34.863281 C 23.378906 39.105469 28.328125 42 34 42 C 35.722656 42 37.316406 41.675781 38.796875 41.234375 L 45.644531 45.066406 L 43.734375 38.515625 C 46.3125 36.375 48 33.394531 48 30 C 48 23.789063 42.597656 18.835938 35.75 18.105469 C 34.398438 11.125 27.324219 6 19 6 Z M 19 8 C 26.308594 8 32.328125 12.351563 33.703125 18.011719 C 26.183594 18.148438 20 23.355469 20 30 C 20 31.019531 20.160156 32.003906 20.4375 32.941406 C 19.964844 32.980469 19.484375 33 19 33 C 17.101563 33 15.199219 32.710938 13.632813 32.15625 L 13.183594 32 L 8.820313 34.699219 L 10.1875 30.59375 L 9.5625 30.171875 C 6.082031 27.820313 4 24.445313 4 20.5 C 4 13.640625 10.65625 8 19 8 Z M 13 14 C 11.898438 14 11 14.898438 11 16 C 11 17.101563 11.898438 18 13 18 C 14.101563 18 15 17.101563 15 16 C 15 14.898438 14.101563 14 13 14 Z M 25 14 C 23.898438 14 23 14.898438 23 16 C 23 17.101563 23.898438 18 25 18 C 26.101563 18 27 17.101563 27 16 C 27 14.898438 26.101563 14 25 14 Z M 34 20 C 40.746094 20 46 24.535156 46 30 C 46 32.957031 44.492188 35.550781 42.003906 37.394531 L 41.445313 37.8125 L 42.355469 40.933594 L 39.105469 39.109375 L 38.683594 39.25 C 37.285156 39.71875 35.6875 40 34 40 C 27.253906 40 22 35.464844 22 30 C 22 24.535156 27.253906 20 34 20 Z M 29.5 26 C 28.699219 26 28 26.699219 28 27.5 C 28 28.300781 28.699219 29 29.5 29 C 30.300781 29 31 28.300781 31 27.5 C 31 26.699219 30.300781 26 29.5 26 Z M 38.5 26 C 37.699219 26 37 26.699219 37 27.5 C 37 28.300781 37.699219 29 38.5 29 C 39.300781 29 40 28.300781 40 27.5 C 40 26.699219 39.300781 26 38.5 26 Z\u0026#34;\u0026gt; \u0026lt;/path\u0026gt; \u0026lt;/g\u0026gt; \u0026lt;/svg\u0026gt; {{- else if (eq $icon_name \u0026#34;weibo\u0026#34;) -}} \u0026lt;svg xmlns=\u0026#34;http://www.w3.org/2000/svg\u0026#34; x=\u0026#34;0px\u0026#34; y=\u0026#34;0px\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 172 172\u0026#34;\u0026gt; \u0026lt;g fill=\u0026#34;currentColor\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;4\u0026#34;\u0026gt; \u0026lt;path d=\u0026#34;M120.4,20.64c-2.67406,0 -5.25406,0.26875 -7.74,0.71219c-1.86781,0.3225 -3.1175,2.10969 -2.795,3.9775c0.3225,1.88125 2.10969,3.13094 3.9775,2.80844c2.17688,-0.38969 4.35375,-0.61813 6.5575,-0.61813c20.93563,0 37.84,16.90438 37.84,37.84c0,4.52844 -0.83312,8.85531 -2.31125,12.91344c-0.45687,1.16906 -0.25531,2.48594 0.5375,3.45344c0.80625,0.9675 2.05594,1.42437 3.29219,1.19594c1.23625,-0.22844 2.24406,-1.11531 2.63375,-2.29781c1.73344,-4.75687 2.72781,-9.87656 2.72781,-15.265c0,-24.65781 -20.06219,-44.72 -44.72,-44.72zM120.4,41.28c-1.46469,0 -2.84875,0.14781 -4.16562,0.37625c-1.86781,0.33594 -3.13094,2.10969 -2.795,3.99094c0.3225,1.86781 2.10969,3.1175 3.9775,2.795c1.00781,-0.17469 2.00219,-0.28219 2.98312,-0.28219c9.54063,0 17.2,7.65938 17.2,17.2c0,2.05594 -0.37625,4.01781 -1.06156,5.87219c-0.645,1.78719 0.28219,3.7625 2.06938,4.4075c1.78719,0.645 3.7625,-0.26875 4.4075,-2.05594c0.92719,-2.55312 1.46469,-5.32125 1.46469,-8.22375c0,-13.26281 -10.81719,-24.08 -24.08,-24.08zM72.46844,42.6775c-11.04562,0 -27.50656,8.66719 -42.18031,23.07219c-14.76781,14.76781 -23.40813,30.24781 -23.40813,43.57781c0,25.9075 33.12344,41.3875 65.88406,41.3875c42.47594,0 70.90969,-24.46969 70.90969,-43.91375c0,-11.87875 -10.07812,-18.35562 -19.08125,-21.23125c-2.15,-0.72562 -3.60125,-1.08844 -2.52625,-3.96406c0.72563,-1.73344 1.77375,-5.01219 1.77375,-9.36594c0,-4.945 -3.44,-9.23156 -10.32,-9.9975c-0.79281,-0.08062 -2.13656,-0.14781 -3.82969,-0.14781c-5.6975,0 -15.48,0.71219 -22.52125,3.66844c0,0 -1.38406,0.57781 -2.49938,0.57781c-1.00781,0 -1.80062,-0.48375 -1.11531,-2.37844c2.52625,-7.91469 2.16344,-14.39156 -1.80063,-18.00625c-2.23062,-2.23062 -5.42875,-3.27875 -9.28531,-3.27875zM72.46844,49.5575c1.43781,0 3.37281,0.215 4.43438,1.26313l0.1075,0.12094l0.12094,0.1075c1.54531,1.41094 1.51844,5.61687 -0.09406,10.72312c-1.38406,3.99094 -0.09406,6.75906 0.81969,8.04906c1.51844,2.16344 4.00437,3.39969 6.81281,3.39969c2.28438,0 4.39406,-0.79281 5.14656,-1.11531c5.50938,-2.31125 13.88094,-3.13094 19.87406,-3.13094c1.53187,0 2.60687,0.05375 3.07719,0.1075c2.78156,0.30906 4.1925,1.37063 4.1925,3.15781c0,3.23844 -0.77937,5.61688 -1.23625,6.73219l-0.05375,0.1075l-0.04031,0.09406c-1.075,2.88906 -1.06156,5.50938 0.04031,7.80719c1.62594,3.39969 4.82406,4.46125 6.54406,5.03906l0.28219,0.09406c5.34813,1.70656 14.2975,5.88562 14.2975,14.68719c0,7.90125 -6.81281,17.65688 -18.90656,25.16844c4.77031,-5.54969 7.47125,-12.05344 7.47125,-19.05437c0,-21.01625 -24.37562,-37.47719 -55.48344,-37.47719c-31.10781,0 -55.47,16.46094 -55.47,37.47719c0,0.645 0.01344,1.27656 0.05375,1.90812c-0.45687,-1.76031 -0.69875,-3.60125 -0.69875,-5.49594c0,-11.16656 7.59219,-24.91312 21.33875,-38.65969c14.86188,-14.59313 29.48188,-21.11031 37.36969,-21.11031zM69.875,82.33156c26.84813,0 48.60344,13.69281 48.60344,30.59719c0,16.89094 -21.75531,30.58375 -48.60344,30.58375c-26.83469,0 -48.59,-13.69281 -48.59,-30.58375c0,-16.90437 21.75531,-30.59719 48.59,-30.59719zM66.27375,89.52063c-10.38719,0.08062 -20.47875,5.76469 -24.85937,14.52594c-5.40188,11.13969 -0.36281,23.38125 12.59094,27.33187c12.95375,4.31344 28.42031,-2.16344 33.82219,-14.02875c5.38844,-11.5025 -1.43781,-23.73062 -14.39156,-26.95562c-2.365,-0.61813 -4.77031,-0.88688 -7.16219,-0.87344zM71.63531,104.06c1.98875,0 3.60125,1.59906 3.60125,3.58781c0,1.98875 -1.6125,3.60125 -3.60125,3.60125c-1.98875,0 -3.60125,-1.6125 -3.60125,-3.60125c0,-1.98875 1.6125,-3.58781 3.60125,-3.58781zM56.47781,107.64781c1.12875,0.01344 2.2575,0.18812 3.31906,0.55094c4.60906,1.46469 6.02,5.83188 3.18469,9.47344c-2.4725,3.64156 -8.12969,5.45563 -12.38938,3.64156c-4.23281,-1.81406 -5.29437,-6.19469 -2.82187,-9.46c1.85437,-2.74125 5.30781,-4.24625 8.7075,-4.20594z\u0026#34;\u0026gt; \u0026lt;/path\u0026gt; \u0026lt;/g\u0026gt; \u0026lt;path d=\u0026#34;\u0026#34; fill=\u0026#34;none\u0026#34;\u0026gt;\u0026lt;/path\u0026gt; \u0026lt;/svg\u0026gt; Directory column placed side We can place the directory column to the side, we need to do some modification.\nRewrite layouts/partials/toc.html:\n{{- $headers := findRE \u0026#34;\u0026lt;h[1-6].*?\u0026gt;(.|\\n])+?\u0026lt;/h[1-6]\u0026gt;\u0026#34; .Content -}} {{- $has_headers := ge (len $headers) 1 -}} {{- if $has_headers -}} \u0026lt;aside id=\u0026#34;toc-container\u0026#34; class=\u0026#34;toc-container wide\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;toc\u0026#34;\u0026gt; \u0026lt;details {{if (.Param \u0026#34;TocOpen\u0026#34;) }} open{{ end }}\u0026gt; \u0026lt;summary accesskey=\u0026#34;c\u0026#34; title=\u0026#34;(Alt + C)\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;details\u0026#34;\u0026gt;{{- i18n \u0026#34;toc\u0026#34; | default \u0026#34;Table of Contents\u0026#34; }}\u0026lt;/span\u0026gt; \u0026lt;/summary\u0026gt; \u0026lt;div class=\u0026#34;inner\u0026#34;\u0026gt; {{- $largest := 6 -}} {{- range $headers -}} {{- $headerLevel := index (findRE \u0026#34;[1-6]\u0026#34; . 1) 0 -}} {{- $headerLevel := len (seq $headerLevel) -}} {{- if lt $headerLevel $largest -}} {{- $largest = $headerLevel -}} {{- end -}} {{- end -}} {{- $firstHeaderLevel := len (seq (index (findRE \u0026#34;[1-6]\u0026#34; (index $headers 0) 1) 0)) -}} {{- $.Scratch.Set \u0026#34;bareul\u0026#34; slice -}} \u0026lt;ul\u0026gt; {{- range seq (sub $firstHeaderLevel $largest) -}} \u0026lt;ul\u0026gt; {{- $.Scratch.Add \u0026#34;bareul\u0026#34; (sub (add $largest .) 1) -}} {{- end -}} {{- range $i, $header := $headers -}} {{- $headerLevel := index (findRE \u0026#34;[1-6]\u0026#34; . 1) 0 -}} {{- $headerLevel := len (seq $headerLevel) -}} {{/* get id=\u0026#34;xyz\u0026#34; */}} {{- $id := index (findRE \u0026#34;(id=\\\u0026#34;(.*?)\\\u0026#34;)\u0026#34; $header 9) 0 }} {{- /* strip id=\u0026#34;\u0026#34; to leave xyz, no way to get regex capturing groups in hugo */ -}} {{- $cleanedID := replace (replace $id \u0026#34;id=\\\u0026#34;\u0026#34; \u0026#34;\u0026#34;) \u0026#34;\\\u0026#34;\u0026#34; \u0026#34;\u0026#34; }} {{- $header := replaceRE \u0026#34;\u0026lt;h[1-6].*?\u0026gt;((.|\\n])+?)\u0026lt;/h[1-6]\u0026gt;\u0026#34; \u0026#34;$1\u0026#34; $header -}} {{- if ne $i 0 -}} {{- $prevHeaderLevel := index (findRE \u0026#34;[1-6]\u0026#34; (index $headers (sub $i 1)) 1) 0 -}} {{- $prevHeaderLevel := len (seq $prevHeaderLevel) -}} {{- if gt $headerLevel $prevHeaderLevel -}} {{- range seq $prevHeaderLevel (sub $headerLevel 1) -}} \u0026lt;ul\u0026gt; {{/* the first should not be recorded */}} {{- if ne $prevHeaderLevel . -}} {{- $.Scratch.Add \u0026#34;bareul\u0026#34; . -}} {{- end -}} {{- end -}} {{- else -}} \u0026lt;/li\u0026gt; {{- if lt $headerLevel $prevHeaderLevel -}} {{- range seq (sub $prevHeaderLevel 1) -1 $headerLevel -}} {{- if in ($.Scratch.Get \u0026#34;bareul\u0026#34;) . -}} \u0026lt;/ul\u0026gt; {{/* manually do pop item */}} {{- $tmp := $.Scratch.Get \u0026#34;bareul\u0026#34; -}} {{- $.Scratch.Delete \u0026#34;bareul\u0026#34; -}} {{- $.Scratch.Set \u0026#34;bareul\u0026#34; slice}} {{- range seq (sub (len $tmp) 1) -}} {{- $.Scratch.Add \u0026#34;bareul\u0026#34; (index $tmp (sub . 1)) -}} {{- end -}} {{- else -}} \u0026lt;/ul\u0026gt; \u0026lt;/li\u0026gt; {{- end -}} {{- end -}} {{- end -}} {{- end }} \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#34;#{{- $cleanedID -}}\u0026#34; aria-label=\u0026#34;{{- $header | plainify -}}\u0026#34;\u0026gt;{{- $header | safeHTML -}}\u0026lt;/a\u0026gt; {{- else }} \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#34;#{{- $cleanedID -}}\u0026#34; aria-label=\u0026#34;{{- $header | plainify -}}\u0026#34;\u0026gt;{{- $header | safeHTML -}}\u0026lt;/a\u0026gt; {{- end -}} {{- end -}} \u0026lt;!-- {{- $firstHeaderLevel := len (seq (index (findRE \u0026#34;[1-6]\u0026#34; (index $headers 0) 1) 0)) -}} --\u0026gt; {{- $firstHeaderLevel := $largest }} {{- $lastHeaderLevel := len (seq (index (findRE \u0026#34;[1-6]\u0026#34; (index $headers (sub (len $headers) 1)) 1) 0)) }} \u0026lt;/li\u0026gt; {{- range seq (sub $lastHeaderLevel $firstHeaderLevel) -}} {{- if in ($.Scratch.Get \u0026#34;bareul\u0026#34;) (add . $firstHeaderLevel) }} \u0026lt;/ul\u0026gt; {{- else }} \u0026lt;/ul\u0026gt; \u0026lt;/li\u0026gt; {{- end -}} {{- end }} \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/details\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/aside\u0026gt; \u0026lt;script\u0026gt; let activeElement; let elements; window.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function (event) { checkTocPosition(); elements = document.querySelectorAll(\u0026#39;h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]\u0026#39;); // Make the first header active activeElement = elements[0]; const id = encodeURI(activeElement.getAttribute(\u0026#39;id\u0026#39;)).toLowerCase(); document.querySelector(`.inner ul li a[href=\u0026#34;#${id}\u0026#34;]`).classList.add(\u0026#39;active\u0026#39;); }, false); window.addEventListener(\u0026#39;resize\u0026#39;, function(event) { checkTocPosition(); }, false); window.addEventListener(\u0026#39;scroll\u0026#39;, () =\u0026gt; { // Check if there is an object in the top half of the screen or keep the last item active activeElement = Array.from(elements).find((element) =\u0026gt; { if ((getOffsetTop(element) - window.pageYOffset) \u0026gt; 0 \u0026amp;\u0026amp; (getOffsetTop(element) - window.pageYOffset) \u0026lt; window.innerHeight/2) { return element; } }) || activeElement elements.forEach(element =\u0026gt; { const id = encodeURI(element.getAttribute(\u0026#39;id\u0026#39;)).toLowerCase(); if (element === activeElement){ document.querySelector(`.inner ul li a[href=\u0026#34;#${id}\u0026#34;]`).classList.add(\u0026#39;active\u0026#39;); } else { document.querySelector(`.inner ul li a[href=\u0026#34;#${id}\u0026#34;]`).classList.remove(\u0026#39;active\u0026#39;); } }) }, false); const main = parseInt(getComputedStyle(document.body).getPropertyValue(\u0026#39;--article-width\u0026#39;), 10); const toc = parseInt(getComputedStyle(document.body).getPropertyValue(\u0026#39;--toc-width\u0026#39;), 10); const gap = parseInt(getComputedStyle(document.body).getPropertyValue(\u0026#39;--gap\u0026#39;), 10); function checkTocPosition() { const width = document.body.scrollWidth; if (width - main - (toc * 2) - (gap * 4) \u0026gt; 0) { document.getElementById(\u0026#34;toc-container\u0026#34;).classList.add(\u0026#34;wide\u0026#34;); } else { document.getElementById(\u0026#34;toc-container\u0026#34;).classList.remove(\u0026#34;wide\u0026#34;); } } function getOffsetTop(element) { if (!element.getClientRects().length) { return 0; } let rect = element.getBoundingClientRect(); let win = element.ownerDocument.defaultView; return rect.top + win.pageYOffset; } \u0026lt;/script\u0026gt; {{- end }} At assets/css/extended/blank.css:\n:root { --nav-width: 1380px; --article-width: 650px; --toc-width: 300px; } .toc { margin: 0 2px 40px 2px; border: 1px solid var(--border); background: var(--entry); border-radius: var(--radius); padding: 0.4em; } .toc-container.wide { position: absolute; height: 100%; border-right: 1px solid var(--border); left: calc((var(--toc-width) + var(--gap)) * -1); top: calc(var(--gap) * 2); width: var(--toc-width); } .wide .toc { position: sticky; top: var(--gap); border: unset; background: unset; border-radius: unset; width: 100%; margin: 0 2px 40px 2px; } .toc details summary { cursor: zoom-in; margin-inline-start: 20px; padding: 12px 0; } .toc details[open] summary { font-weight: 500; } .toc-container.wide .toc .inner { margin: 0; } .active { font-size: 110%; font-weight: 600; } .toc ul { list-style-type: circle; } .toc .inner { margin: 0 0 0 20px; padding: 0px 15px 15px 20px; font-size: 16px; } .toc li ul { margin-inline-start: calc(var(--gap) * 0.5); list-style-type: none; } .toc li { list-style: none; font-size: 0.95rem; padding-bottom: 5px; } .toc li a:hover { color: var(--secondary); } Markdown rendering style For details: 折腾 Hugo \u0026amp; PaperMod 主题 - Dvel\u0026rsquo;s Blog\nTraffic Statistics Here I use busuanzi and modify it in the themes/Papermod/layouts/partials/svg.html:\n{{- if not (.Param \u0026#34;hideFooter\u0026#34;) }} \u0026lt;footer class=\u0026#34;footer\u0026#34;\u0026gt; {{- if site.Copyright }} ... {{- end }} \u0026lt;script async src=\u0026#34;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;span id=\u0026#34;busuanzi_container\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\u0026#34;\u0026gt; Visitors: \u0026lt;span id=\u0026#34;busuanzi_value_site_uv\u0026#34;\u0026gt;\u0026lt;/span\u0026gt; Views: \u0026lt;span id=\u0026#34;busuanzi_value_site_pv\u0026#34;\u0026gt;\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt; \u0026lt;/footer\u0026gt; {{- end }} Insert Bilibili, YouTube video or PPT For details: Hugo博客自定义shortcodes | Sulv\u0026rsquo;s Blog (sulvblog.cn)\nInsert music player For details: Hugo插入音乐播放器 Hidden lyrics: lrc-type = 0\nModify the global font First find your favorite font, and then you can check the font in Google Fonts. My current articles font is Josefin Sans. Google Fonts will generate HTML and CSS, insert HTML into themes/PaperMod/layouts/partials/extend_head.html, and insert css to themes/papermod/assets/extended/blank.css.\nbody { font-family: \u0026#39;Josefin Sans\u0026#39;, sans-serif; font-size: 1rem; line-height: 1.5; margin: 0; } Modify code font Similar to global fonts, the difference is differently inserted by CSS code.The font I use is Ubuntu Mono.\n.post-content pre, code { font-family: \u0026#39;Ubuntu Mono\u0026#39;, monospace; max-height: 40rem; } Comment function For details: Hugo博客添加Twikoo评论 | Sulv\u0026rsquo;s Blog (sulvblog.cn)\nOutlook email configuration For details: 关于邮箱配置的问题？ · Discussion #249 · imaegoo/twikoo (github.com)\nCustom mailbox reply template For details: 自定义Twikoo邮件通知模板 | Guo Le\u0026rsquo;s Blog\nCode highlight Modify in two places One is themes/PaperMod/assets/css/common/post-single.css:\n.post-content pre code { display: block; margin: auto 0; padding: 10px; /* Color of main code */ color: #abb2bf; font-weight: 200; overflow-x: auto; word-break: break-all; } The other is themes/PaperMod/assets/css/hljs/an-old-hope.min.css, here is my example:\n/* Comment */ .hljs-comment, .hljs-quote { font-weight: 200; color: #7f848e; } .hljs-deletion, /* html index */ .hljs-name, .hljs-regexp, .hljs-tag { font-weight: 200; color: #e06c75; } /* html attribute */ .hljs-tag { font-weight: 200; color: #d19a66; } /* css class name */ .hljs-template-variable, .hljs-variable, .hljs-selector-class, .hljs-selector-id { font-weight: 200; color: #a9b600; } /* built in function */ .hljs-built_in, .hljs-builtin-name { font-weight: 200; color: #56b6c2; } /* function input */ .hljs-params { font-weight: 200; color: #e5c07b; } /* number */ .hljs-number { font-weight: 200; color: #d19a66; } /* css attribute */ .hljs-attribute { font-weight: 200; color: #ee7c2b; } /* string */ .hljs-addition, .hljs-bullet, .hljs-symbol, .hljs-string { font-weight: 200; color: #98c379; } /* function name */ .hljs-section, .hljs-title { font-weight: 200; color: #56b6c2; } /* keyword */ .hljs-keyword, .hljs-selector-tag, .hljs-literal, .hljs-link, .hljs-meta, .hljs-type { font-weight: 200; color: #c678dd; } .hljs { display: block; overflow-x: auto; background: #1c1d21; color: #c0c5ce; padding: 0.5em; } .hljs-emphasis { font-style: italic; } .hljs-strong { font-weight: 700; } /* 选中时的背景颜色 */ .hljs ::selection, .hljs::selection { background-color: #3d4556; } Code border round corner themes/PaperMod/assets/css/common/post-single.css:\n.post-content .highlight pre { background-color: var(--theme) !important; margin: 0; } Friend link For details: Hugo博客添加友链 | Sulv\u0026rsquo;s Blog (sulvblog.cn)\n","permalink":"https://kyxie.me/en/blog/tech/web/papermod/","summary":"Installation process First of all, installing Hugo is required. Installing Hugo needs to use a package management tool. For the Windows system, I recommend using Scoop. Here introduced how to install Scoop. Hogo\u0026rsquo;s tutorial introduces how to create a project. Among them, Step2 (.yml\u0026rsquo;s config file) and Step3 (download theme) should be configured according to the guide of Papermod. File introduction content: used to put blog content data: don\u0026rsquo;t care","title":"Building a website using Hugo \u0026 PaperMod"},{"content":"最近有一个项目需要使用GUI，又希望放在云端自动运行。一开始是打算用Windows的instance，尝试了一下基本上下载一个chrome都卡，AWS的免费用户又只能使用只有命令行的Ubuntu server。然后突发奇想诶我可不可以在Ubuntu server上安装一个GUI，查了一下这个方法似乎可行（其实还是不太可行，我已经打算放弃折腾了，不过倒是成功装上了GUI）。\n安装xrdp并enable，安装GUI就需要远程桌面系统，这是Linux的客户端\nsudo apt-get update sudo apt install xrdp -y sudo systemctl enable xrdp 我首先尝试的是gnome，尝试发现这个消耗资源太严重了，免费版用户用起来应该跟Windows一样卡\nsudo add-apt-repository ppa:gnome3-team/gnome3 sudo apt-get install gnome-shell ubuntu-gnome-desktop 后来我决定试试更轻量化的XFCE\nsudo apt install tasksel sudo tasksel install xubuntu-desktop sudo apt install xfce4 xfce4-goodies sudo update-alternatives --config x-session-manager sudo apt install lightdm sudo dpkg-reconfigure lightdm 设置密码\nsudo passwd ubuntu 在EC2 Security group中选择Allow All Traffic\n在MacBook中应用商店下载Windows App，这是Window开发的远程桌面应用，有一说一Windows给Mac开发的软件是真不错\n选择Add a PC，Computer使用AWS提供的DNS，用户名一般为ubuntu，密码为刚才设置的密码\n之后就可以连接上了\n但是尽管XFCE已经很轻量化了，我下载完Chrome之后还是觉得卡，于是放弃折腾了，AWS免费版用户不推荐这么做。\n","permalink":"https://kyxie.me/en/blog/tech/utils/aws-server-gui/","summary":"最近有一个项目需要使用GUI，又希望放在云端自动运行。一开始是打算用Windows的instance，尝试了一下基本上下载一个chrome都","title":"AWS Ubuntu Server安装GUI"},{"content":"Header 最近妈妈来了加拿大，打算带她去Calgary和Banff旅行，发现Banff旅游真的好多坑啊，正好写一篇游记博客，顺便记录一下Banff旅游攻略。\n首先是一些注意事项：\n进入Banff需要购买国家公园Pass，一天CAD$22，有效期到第二天的下午4点（因为4点查票的人就下班了）。我们Sep 19下午5点多才从Calgary提车，在Canmore和Banff之间有一个检票亭子（左侧道路是卖票亭，右侧道路可以bypass），我们从网上买了Sep 20开始的Pass，当我们路过的时候大概是晚上9点，但是还是补上了Sep 19号的（下次打算12点之后再试试，说不定就不用交当天的门票了）。网上买完Pass之后需要打印下来，放在租车玻璃前。 Lake Louise到Jasper以北都没有信号，出发前需要下载谷歌离线地图（开车强烈推荐Apple自带的地图）。 路上也没啥加油站，在大城市需要把油加满。 Sep 19 9.18晚上飞到的Calgary，然后9.19打算去购物，Alberta 5%的税是真香啊。下午5点去Enterprise租车（我终于满25岁了可以不用再交Yonge Driver Fee了，而且Cobalt的信用卡还自带租车保险简直美滋滋），然后准备出发去Banff，由于很早就定了YWCA酒店，所以价格也算是挺便宜的。\nSep 20 我们从这里买的套票，包含了Banff硫磺山的Gondola，冰原探险，和Golden的Skybridge。由于我们之前打算去Jasper的，结果野火把Jasper给烧了，我们不得不改变行程住在Golden，正好这票里的Golden Skybridge也派上了用场，还可以自由安排去各个景点的时间。\n但是有一点需要注意的是，在网上买票如果没有定下具体时间的话是需要到现场schedule的，举个例子，我们本来计划起床后在Banff转转，因为YWCA外边就是瀑布花园（Cascade of Time Garden），吃点饭去惊喜角（Surprise Corner Viewpoint），然后路上路过的湖（Hector Lake Viewpoint, Bow Lake, Peyto Lake）也可以游玩。这样到达冰原中心就大概1点多了，检票的时候告诉我们最早能坐3点的车，白白浪费两个小时。所以建议早晨先去冰原中心，观光完可以在游客中心吃个饭，然后回来的路上（如果晚上住在Canmore或者Banff的话）再顺着湖游玩（有人说下午2点左右是Peyto湖的最佳观赏时间）。\n虽然三四十年后Athabasca Glacier可能会消失，但是我觉得CAD$109的票价有点贵了，大部分时间都是在等车，到了冰原上只有半个小时的拍照时间。\n这天晚上我们住在了Canmore，Canmore景色真的很不错！\nSep 21 这天早晨我们从Canmore出发，逛了Banff镇，Banff Gondola（注意这里网上买了票，到现场也需要schedule，但是我们11:50的缆车，11:00排队没啥人我们就直接上了，不需要像冰原中心傻等）逛了逛Banff镇，然后下午就向Golden出发。下午到了Golden后游览了Golden Skybridge。\n其实Banff Gondola完全可以走着爬硫磺山，然后下缆车一般不检票，再坐缆车下山，Golden Skybridge更是完全没有玩的必要。\nSep 22 22号计划去Lake Louise和Moraine Lake，这两个地方需要提前两天预定Shuttle Bus否则无法停车，这个Shuttle Bus的出发地是Park and Ride - Lake Louise and Moraine Lake Bus Shuttle (1 Whitehorn Rd, Lake Louise, AB T0L 1E0)。由于我们头天晚上住在Golden，因此计划早起开车到这个停车场，然后坐车。在官网中点击Parks Canada shuttles，然后选择Day Use, Shuttle to Lake Louise and Moraine Lake，选好日期就可以预定了。后面选择会有两个，Lake Louise和Moraine Lake，这两个票买哪个都可以，选择哪个湖就是从滑雪场先去哪个湖，注意这里的时间则跟冰原中心一样，网上预约的几点就是几点发车，没错我们又在游客中心傻等了。我们先去的Moraine Lake再去的Lake Louise。Lake Louise旁边有一个Trail可以俯瞰费尔蒙酒店，难度也不大很合适。\n我们晚上是住在Lake Louise的，这是个非常错误的决定，应该前一天在这住，第二天逛完后住在哪里都可，这样就不需要像我们一样早起从Golden赶过来了。\nSep 23 今天是Banff旅行的最后一天，我们从Lake Louise出发看了看Morant\u0026rsquo;s Curve就回卡尔加里还车了。Morant\u0026rsquo;s Curve需要从Lake Louise不上Hwy1，走北边一条路，这条路能见到不少野生动物，所以最好慢点开车，不走hwy也非常有意思。我们见到了小鹿，但是可惜没有见到熊。这条小路可以通往Johnson Canyon，但是后面的路被封了，我其实挺想一直慢点走走到Banff的，如果不去Johnson Canyon的话提前从Castle Junction拐出来（听导航的话）。\nFooter 由于Jasper被火烧 -\u0026gt; 酒店选择错误 -\u0026gt; 在路上消耗的时间比较多 + 游客中心傻等，感觉还是白白浪费了不少时间。看来Banff的坑还是比较多的，下次的话争取合理安排时间多走几个Trail。\n但是无论如何Banff实在是太美啦！！放几张风景照\n\u003c!DOCTYPE html\u003e\rLake Louise Lake Louise Fairmont Viewpoint Morant\u0026#39;s Curve Banff Canmore Bow Lake Moraine Lake ","permalink":"https://kyxie.me/en/blog/life/banff/","summary":"Header 最近妈妈来了加拿大，打算带她去Calgary和Banff旅行，发现Banff旅游真的好多坑啊，正好写一篇游记博客，顺便记录一下Banff旅","title":"Banff旅行游记"},{"content":"Ubuntu 安装 sudo apt update sudo apt upgrade sudo apt install wireguard 配置 进入/etc/wireguard，并生成密钥对\nsudo -i cd /etc/wireguard umask 077 wg genkey | tee privatekey | wg pubkey \u0026gt; publickey 编辑配置文件wg0.conf\n[Interface] PrivateKey = [LINUX_PRIVATE_KEY] Address = 192.168.100.1/24 ListenPort = 51820 [Peer] PublicKey = [WINDOWS_PUBLIC_KEY] Endpoint = [WINDOWS_IP]:51820 AllowedIPs = 192.168.100.2/32 启动Wireguard\nsudo wg-quick up wg0 OpenWrt 安装 所需插件详见：使用树莓派4B+安装OpenWrt用作旁路由 | Kunyang\u0026rsquo;s Blog\n配置 Network → Interface → Add new interface，创建一个wireguard，名字就叫wg0\n点击Generate new key pair，会自动生成一个公钥一个私钥，IP地址可以随便写一个私有地址的网段，我填写192.168.100.1/24，这就是这个VPN的子网，然后设置默认端口，可以随便写，这里我设置55555\n防火墙可以选择vpn\n在Network → Firewall → Custom Rules添加一条自定义命令\niptables -t nat -A POSTROUTING -s 192.168.100.0/24 -o eth0 -j MASQUERADE 这条命令的意思是针对子网192.168.100.0/24内的数据包，当数据从eth0也就是外接端口转发出去的时候，将数据包的源地址伪装成路由器的公网IP\n如果OpenWrt是主路由，则需要在Firewall → Traffic Rules中开放端口\n如果OpenWrt是旁路由，则需要在主路由上做端口转发\n在Network → Interface → wg0点击Edit，然后转到Peers，点击Add peer\n添加Description，比如我的Windows台式机 我们可以点击创建新的密钥对 建议创建Preshared Key Allow IPs就是这个节点在这个VPN网络的IP地址 Keep Alive可以设置为25 可以重启一下路由器\nWindows或Mac Os 安装 从这里下载Wireguard App\n配置 在OpenWrt → Network → Interface → wg0 → Edit Peer中可以很方便地为每个终端导出配置文件，复制粘贴在Windows客户端的wireguard中就可以了\n外网连接VPN 前提条件 需要一个域名\n需要公网IP\n一些包比如ddns-scripts-cloudflare和luci-app-ddns\n配置步骤 首先需要Cloudflare创建一条A记录，域名是vpn.kyxie.me，IP地址可以随便填，反正将来还会被DDNS覆盖，Proxy status选择关闭，只进行DNS不进行代理\n在这里点击Create Token，创建一个专用的API token\n选择Edit Zone DNS，点击Use Template\n按照下图配置\n生成API Token后注意保存好，只会显示一次\n然后回到OpenWrt → Service → Dynamic DNS → Services，添加一个ddns_ipv4，下面是详细配置，注意必须要安装了ddns-scripts-cloudflare之后才能在DDNS Service provider找到cloudflare.com-v4\nddns: \u0026#34;Enabled\u0026#34;: true \u0026#34;Lookup Hostname\u0026#34;: \u0026#34;vpn.kyxie.me\u0026#34; \u0026#34;IP address version\u0026#34;: \u0026#34;IPV4-Address\u0026#34; \u0026#34;DDNS Service provider\u0026#34;: \u0026#34;cloudflare.com-v4\u0026#34; \u0026#34;Domain\u0026#34;: \u0026#34;vpn@kyxie.me\u0026#34; \u0026#34;Username\u0026#34;: \u0026#34;Bearer\u0026#34; \u0026#34;Password\u0026#34;: \u0026#34;Your API Token\u0026#34; \u0026#34;Use HTTP Secure\u0026#34;: true \u0026#34;Path to CA-Certificate\u0026#34;: \u0026#34;/etc/ssl/certs\u0026#34; 如果OpenWrt为主路由，这样应该可以完成DDNS解析了，但是如果OpenWrt为旁路由，由于路由器的wan口并不知道公网IP，需要使用借助网站来得知自己的公网IP，我们在Service → Dynamic DNS → Services → ddns_ipv4 → Edit → Advanced Settings → IP address source选择URL，URL to detect可以选择默认ipv4的urlhttp://checkip/dymdms.com\n这样DDNS的配置就完成了，以后如果运营商给你换了公网IP也不会影响域名的配对了\n配置完后可以去Cloudflare看看ip地址有没有刷新\n现在有了DDNS，我们就可以把Peer的EndPoint改成自己的域名了\n将OpenWrt生成的Configuration填入其他设备，就可以接入VPN了\nTrouble Shoot 我发现当Windows连入VPN后无法访问之前192.168.2.x的子网了，并不是连接不上而是被block，但是MacBook没有这个问题，192.168.2.x和192.168.100.x都是能访问的，这有可能是Windows没有自动添加路由表。使用管理员权限打开CMD，然后输入下面命令就能解决问题了\nroute add 192.168.2.0 MASK 255.255.255.0 192.168.100.1 METRIC 1 ","permalink":"https://kyxie.me/en/blog/tech/router/wireguard/","summary":"Ubuntu 安装 sudo apt update sudo apt upgrade sudo apt install wireguard 配置 进入/etc/wireguard，并生成密钥对 sudo -i cd /etc/wireguard umask 077 wg genkey | tee privatekey | wg pubkey \u0026gt; publickey 编辑配置文件wg0.conf [Interface] PrivateKey","title":"OpenWrt配置Wireguard"},{"content":"Header 以下是AList的一些常见配置教程，仅作为个人记录和学习使用\n挂载Baidu网盘 官方教程 视频教程 挂载Google Drive 官方教程 视频教程 挂载本地 我们插上U盘，在System → MountPoint可以看到U盘/dev/sda1被挂载到了/mnt/sda1 进入AList前端页面 → Manage → Storages → Add，Driver选择Local Mount Path随便填，我使用了/local Root folder path填mnt/sda1，这样回到主页面就能访问到U盘的内容了 使用Cloudflared公网访问AList服务 AList服务用来管理网盘是非常方便的，同时AList还允许挂载本机的文件。这让我突然想起一个场景，假如我和小伙伴出去玩用单反拍了许多照片，体积非常大，分享这些照片就非常麻烦了，如果上传到百度云，那么小伙伴下载完不知道要等多久，而且也没开其他云的会员账号。\n假如使用AList挂载本地的SD卡，再让小伙伴访问我的AList服务不就解决问题了嘛。但是如何让小伙伴在家也能访问我的OpenWrt呢，可以使用Cloudflare的内网穿透服务。\n本教程参考：【韩风Talk】这期玩Alist的网络安全防护，随便折腾一下免费的内网穿透 哔哩哔哩_bilibili\n前置条件 需要一个域名 OpenWrt安装luci-app-cloudflared 配置 首先在Cloudflare开启Zero Trust，选择免费版即可\n在LuCI开启Cloudflared服务，位于VPN → Cloudflare Zero Trust Tunnel，勾选Enable\nssh登录到OpenWrt，运行\ncloudflared tunnel login 点击显示的连接，登录\n登录成功后会下载一个授权证书，位于/root/.cloudflared/cert.pem，我们把授权证书复制到cloudflared的配置文件夹下\ncp /root/.cloudflared/cert.pem /etc/cloudflared 创建隧道，后面是隧道名称，可以随便填\ncloudflared tunnel create alist 创建完成之后，会在之前的文件夹（/root/.cloudflared/cert.pem）创建一个.json文件，把它也复制到cloudflared的配置文件夹中\ncp /root/.cloudflared/xxx.json /etc/cloudflared 进入cloudflared配置文件夹（/etc/cloudflared），修改config.yml\n# url: http://localhost:8000 tunnel: \u0026lt;Tunnel-UUID\u0026gt; credentials-file: /etc/cloudflared/\u0026lt;Tunnel-UUID\u0026gt;.json \u0026lt;Tunnel-UUID\u0026gt;替换为刚才的.json文件名\n重启cloudflared服务\n/etc/init.d/cloudflared restart 回到Cloudflare官网，Zero Trust → Networks → Tunnels就能找到刚才创建的隧道了，我们点击Edit，把本地配置迁移到云端，一直点击Confirm即可\n迁移完成后，重新点击Edit，进入Public Hostname，我们添加一个子域名，Type选择HTTP协议，URL就是局域网内AList服务器的地址和端口。\n这样就可以直接在公网通过域名访问家中的服务器了\n还有一些其他的安全配置\nCloudflare → SSL/TLS → Overview → Configure encryption mode，选择Full Cloudflare → SSL/TLS → Edge Certificates → Always Use HTTPS，选择True 开启2FA ","permalink":"https://kyxie.me/en/blog/tech/router/alist/","summary":"Header 以下是AList的一些常见配置教程，仅作为个人记录和学习使用 挂载Baidu网盘 官方教程 视频教程 挂载Google Drive 官方教程 视频教程 挂载本地 我","title":"OpenWrt配置AList"},{"content":"常用链接 实时枫叶变色情况以及历史数据 预定门票，门票$21一天，可以提前5天预定 安省枫叶地图 阿冈昆公园地图 推荐的景点 周边：\n白求恩故居 Lions Lookout Dorset Lookout Tower: 印象里这个好像要收费 Big Bend Lookout 60号公路：\n13.8km: Hardwood Lookout Trail: 环形trail（1.61km, 85m, 34min），路上会有向右箭头指示trail的方向，如果想直接看Lookout可以不跟着箭头反着走，即向左走 20km: Art Center \u0026amp; Source Lake: 无需徒步，建议穿白色和浅蓝色的衣服 25km: Track \u0026amp; Tower Trail: 环形Trail（8km, 273m, 2h23min），难度比较高，但是和Booth\u0026rsquo;s Rock Trail风景有一拼 35km: Lake of Two Rivers: 是个沙滩，可以野餐 38km右拐: Centennial Ridges Trail: 环形trail（12.2km, 550m, 4h6min） 39.7km: Algonquin Lookout Trail: 环形trail（2.1km, 71m, 37min） 40.5km右拐: Booth\u0026rsquo;s Rock Trail: 环形trail（5.8km, 232m, 1h51min），需要预约车位 43km: Visitor Center 45km: Beaver Pond Trail: 环形trail（1.9km, 66m, 34min)，但是不知道为什么我感觉这个最累，可能每次都放在最后一个走 50km: Brewer Lake: 不需要徒步，路边停车所以停车位有限，适合长焦拍风景 Footer 最后放几张照片吧\n\u003c!DOCTYPE html\u003e\rArt Center Found Lake ","permalink":"https://kyxie.me/en/blog/life/algonquin/","summary":"常用链接 实时枫叶变色情况以及历史数据 预定门票，门票$21一天，可以提前5天预定 安省枫叶地图 阿冈昆公园地图 推荐的景点 周边： 白求恩故居 Lions Lookout Dorset Lookout Tower:","title":"Algonquin旅行攻略"},{"content":"前言 我就喜欢搞一些简洁而又花里胡哨的东西。\n教程基于Windows 11自带的Terminal。\n字体 我使用的字体是CodeNewRoman Nerd Font，这个字体同样是我博客的字体，可以从这里下载，下载后安装即可，也可以在VS Code上使用这个字体。\n下载 oh-my-posh winget install JanDeDobbeleer.OhMyPosh 终端设置 我这里直接修改了Windows PowerShell的配置，如果不想破坏默认的配置也可以新建一个配置文件。\n在配色方案的选项下，我选择的Campbell，但是我打开设置的json file里面把第一个主题的background改成了#0C0C0C，避免了纯黑的背景。\n在Windows PowerShell的常规选项下，取消勾选使用父进程目录，在外观选项下选取下载的字体CodeNowRoman Nerd Font。\n文件配置 在终端输入\necho $profile 找到这个文件，如果找不到自己新建一个。\n从这里选择一个自己喜欢的主题，点击主题名字进入相应的github并且下载.json源码，保存在本地，粘贴下面语句到这个文件中，修改路径为你保存的路径。\noh-my-posh init pwsh --config \u0026#39;C:/Users/Posh/jandedobbeleer.omp.json\u0026#39; | Invoke-Expression 保存后运行：\n. $profile FAQ 如果运行失败，可能需要更新PSReadLine。\n如果识别不了icon，大概率字体的问题，查看是否在PowerShell的页面下设置字体为Nerd字体。\n效果展示 ","permalink":"https://kyxie.me/en/blog/tech/utils/bash/","summary":"前言 我就喜欢搞一些简洁而又花里胡哨的东西。 教程基于Windows 11自带的Terminal。 字体 我使用的字体是CodeNewRoman Nerd Fo","title":"Windows 11 打造个性化终端"},{"content":" Dec 25, 2022，硕士毕业 Jan 3, 2023，收到毕业信 Apr 27, 2023，收到CELPIP成绩，入池，其实毕业之前就该考出来的，没必要等着PGWP下来再申请省提名，白浪费了半年多 Jun 6, 2023，被捞，当天提交申请 Jun 27, 2023，补交材料 Jun 28, 2023，收到DIP Jul 25, 2023，收到省提名信，这里估摸着差不多了提前把无犯罪证明，出生证明，身份证，户口本公正或者翻译了，还能再省点时间（身份证和户口本是Optional） Aug 1, 2023，提交联邦申请 Dec 1, 2023，收到AOR和指纹信，成功link到IRCC Dec 12, 2023，收到PAL Dec 14, 2023，上午录指纹的时候发现邮箱里有体检信，提醒一下如果有办学签时候的体检证明一块交了，到时候可以waive掉，我这里找不到了只能再做一次体检，验尿抽血胸片，怒花270刀保险还不报销😭，由于可以walk in下午我直接去做了体检 Feb 14, 2024，被要求提交简历，看来要被安调 Feb 15, 2024，tracker上F12出现17 security被安调了，这一时半会出不了安省了，怪你电太牛逼吧 未完待续\u0026hellip;希望早点收到枫叶卡，早点入籍了好让我南下赚钱 ","permalink":"https://kyxie.me/en/blog/life/pr/","summary":"Dec 25, 2022，硕士毕业 Jan 3, 2023，收到毕业信 Apr 27, 2023，收到CELPIP成绩，入池，其实毕业之前就该考出来的，没必要等着PGWP下来再申","title":"OINP移民加拿大🇨🇦时间线"},{"content":"Header 我有时需要使用虚拟机上的Linux环境，但是有些软件在Linux是上是没有的，需要用Windows的软件但是用Linux的数据。于是找到了个办法将Linux映射为Windows的一个本地磁盘，这样Windows的软件就可以直接打开Linux的文件夹了。\nLinux 假如我现在登录用户为user1，我希望把home/user1的所有文件共享给Windows，当然也可以新建用户和新建文件夹来作为共享文件夹。\n安装Samba：\nsudo apt update sudo apt install samba 编辑Samba配置文件：\nsudo nano /etc/samba/smb.conf 在文本末尾添加：\n[Name] path = /home/user1/shared read only = no browsable = yes [Name]是共享文件夹的名称，会显示在Windows磁盘上\n设置Samba账户密码：\nsudo smbpasswd -a user1 sudo smbpasswd -e user1 重启Samba服务：\nsudo systemctl restart smbd Windows 打开文件资源管理器 右键点击“此电脑”，选择“映射网络驱动器” 选择一个驱动器字母（例如Z:） 在文件夹栏中输入：\\\\Linux IP Address\\Name 完成剩余步骤 ","permalink":"https://kyxie.me/en/blog/tech/router/samba/","summary":"Header 我有时需要使用虚拟机上的Linux环境，但是有些软件在Linux是上是没有的，需要用Windows的软件但是用Linux的数据。于是找到了","title":"使用Samba将Linux映射为Windows磁盘"},{"content":" 假设我们有两台Linux虚拟机A和B，使用A和B互相充当Server和Client\nTLS模式 假设我们使用A来充当server，B来充当client\nTLS Server 在A中下载OpenVPN\nsudo apt-get install openvpn 在/usr/share/doc/openvpn/examples/sample-keys/文件夹下有好多keys，在server中，复制ca.crt，server.key，server.crt，dh2048.pem到/etc/openvpn/tls-server\nsudo cp /usr/share/doc/openvpn/examples/sample-keys/{ca.crt,server.key,server.crt,dh2048.pem} /etc/openvpn/tls-server 编写服务器配置文件\nport 1194 proto udp dev tun0 ca ca.crt cert server.crt key server.key dh dh2048.pem server 10.8.0.0 255.255.255.0 keepalive 10 120 user nobody group nogroup persist-key persist-tun verb 3 如果使用TCP连接，则修改为\nport 1194 proto tcp-server dev tun0 ca ca.crt cert server.crt key server.key dh dh2048.pem server 10.8.0.0 255.255.255.0 keepalive 10 120 user nobody group nogroup persist-key persist-tun verb 3 启动OpenVPN Server\ncd /etc/openvpn/tls-server sudo openvpn --config server.conf 这时如果查看IP地址可以看到tun0接口，地址是10.8.0.1\nTLS Client 在B中下载OpenVPN\nsudo apt-get install openvpn 在A中/usr/share/doc/openvpn/examples/sample-keys/下找到ca.crt，client.key，client.crt，复制到B中\n# In B sudo scp [A_usrname]@[A_addr]:/usr/share/doc/openvpn/examples/sample-keys/{ca.crt,client.crt,client.key} /etc/openvpn/tls-client 编写server.conf\nclient dev tun0 remote [A_addr] 1194 udp ca ca.crt cert client.crt key client.key user nobody group nogroup persist-key persist-tun verb 3 如果是TCP连接则\nclient dev tun0 remote [A_addr] 1194 tcp-client ca ca.crt cert client.crt key client.key user nobody group nogroup persist-key persist-tun verb 3 运行OpenVPN Client\ncd /etc/openvpn/tls-client sudo openvpn --config client.conf 这时如果执行\nping 10.8.0.1 成功，说明OpenVPN成功建立\nPSK模式 PSK模式不需要配置复杂的keys，比较简单，但是安全性也会随之降低，这里我们同样让A充当Server，B充当Client\nPSK Server 在A中生成psk.key，并且复制一份给B\n# In A cd /etc/openvpn/psk-server openvpn --genkey --secret psk.key # In B cd /etc/openvpn/psk-client scp [A_usrname]@[A_addr]:/etc/openvpn/psk-server/psk.key . 编写server.conf\ndev-type tun dev tun0 ifconfig 10.8.0.6 10.8.0.1 keepalive 10 120 persist-tun secret psk.key verb 0 # proto tcp-server 如果是TCP连接，则取消注释最后一行\n启动OpenVPN\ncd /etc/openvpn/psk-server sudo openvpn --config server.conf PSK Client 编写client.conf\ndev-type tun dev tun0 remote [A_addr] 1194 udp ifconfig 10.8.0.1 10.8.0.6 keepalive 10 120 persist-tun secret psk.key verb 0 如果是TCP连接\ndev-type tun dev tun0 remote 10.10.200.120 1194 tcp-client ifconfig 10.8.0.1 10.8.0.6 keepalive 10 120 persist-tun secret psk.key verb 0 ","permalink":"https://kyxie.me/en/blog/tech/router/openvpn/","summary":"假设我们有两台Linux虚拟机A和B，使用A和B互相充当Server和Client TLS模式 假设我们使用A来充当server，B来充当cli","title":"OpenVPN的简单配置"},{"content":"Character 判断是否为字母或数字：\nboolean res = Character.isLetterOrDigit(char); 转小写：\nchar res = Character.toLowerCase(char); 下一个字符：\n\u0026#39;b\u0026#39; == (char) (\u0026#39;a\u0026#39; + 1); Integer 最大值最小值：\nint max = Integer.MAX_VALUE; int min = Integer.MIN_VALUE; 比较相等：\nInteger a = 1; Integer b = 1; a == b;\t// true Integer c = 200; Integer d = 200; c == d;\t// false Objects.equals(c, d);\t// true Array 创建数组：\nint[] array = new int[5]; int[] array = new int[]{1,2,3,4}; int[] array = {1,2,3,4}; int[][] array = {{1,2}, {3,4}}; 引用：\narray[3]; 获取长度：\narray.length; 快速初始化：\n// 我们要给这个Map的值快速填充 Map\u0026lt;Integer, List\u0026lt;Integer\u0026gt;\u0026gt; map = new HashMap\u0026lt;\u0026gt;(); map.put(1, Arrays.asList(1, 2, 3)); map.put(2, Arrays.asList(2, 3, 4)); 排序：\nArrays.sort(array); // int[] 不能直接做降序排列 // 想做降序排列只能用Integer[] Integer[] array = new Integer[2]; Arrays.sort(array, Comparitor.naturalOrder());\t// 升序排列 Arrays.sort(array, Comparator.reverseOrder());\t// 降序排列 二维数组排序：\nint[][] array = new int[][]{{1, 2}, {2, 3}}; Arrays.sort(array, (o1, o2) -\u0026gt; o1[0] - o2[0]);\t// 按照二维数组的第一个元素从小到大排序 Arrays.sort(array, (o1, o2) -\u0026gt; o1[1] - o2[1]);\t// 按照二维数组的第二个元素从小到大排序 复制子数组：\n// array: 原始数组，不包括to的结束索引 subArray = Arrays.copyOfRange(array, from, to); // array = [4, 2, 5, 1, 6, 3, 7] subArray = Arrays.copyOfRange(array, 0, 3); // subArray = [4, 2, 5] 打印：\nSystem.out.println(Arrays.toString(array)); 填满：\nint[] array = new int[]; int num; Arrays.fill(array, num);\t// array全部元素等于num String 创建字符串：\nString string = \u0026#34;java\u0026#34;; 指定位置的字符\nchar charAt3 = string.charAt(3);\t// charAt3 = \u0026#39;a\u0026#39; 字符串相等：\nString string1 = \u0026#34;abc\u0026#34;; String string2 = \u0026#34;abc\u0026#34;; string1.equals(string2); 字符串转整数：\nString string = \u0026#34;123\u0026#34;; int integer = Integer.parseInt(string); 字符串长度：\nint length = string.length(); 截取字符串：\nString sb = \u0026#34;abcdef\u0026#34;; String str = sb.substring(0, 1);\t// str = \u0026#34;a\u0026#34;; String str = sb.substring(1);\t// str = \u0026#34;bcdef\u0026#34;;\t如果只有一个参数则为beginIndex 字符的位置：\nString str = \u0026#34;abc\u0026#34;; int index = str.indexOf(b);\t// index = 1 字符串转字符数组：\nString str; char[] temp = str.toCharArray(); 字符串分割：\nString str = \u0026#34;hello world\u0026#34;; String[] word = str.split(\u0026#34; \u0026#34;);\t// word = [\u0026#34;hello\u0026#34;, \u0026#34;world\u0026#34;] // 这里必须是字符串 // 如果有两个空格连在一起，会在数组中加入一个\u0026#34;\u0026#34;（空字符串） 将字符串数组合并为长字符串（中间插入）：\nString[] words = new String[]{\u0026#34;hello\u0026#34;, \u0026#34;world\u0026#34;}; String str = String.join(\u0026#34; \u0026#34;, words); // str = \u0026#34;hello world\u0026#34;; 字符串替换：\nString str = \u0026#34;a! b\u0026#34;; str = str.replace(\u0026#34;!\u0026#34;, \u0026#34; \u0026#34;);\t// str = \u0026#34;a b\u0026#34;; // 字符或者字符串都可以替换 删除字符串头尾的空格：\nString str = \u0026#34; abc \u0026#34;; str.trim();\t// str = \u0026#34;abc\u0026#34; 字符串拼接：\nString str = \u0026#34;abc\u0026#34;; System.out.println(str + \u0026#34;def\u0026#34;);\t// 可以直接使用+ Stack 创建 stack：\nDeque\u0026lt;Integer\u0026gt; stack = new ArrayDeque\u0026lt;\u0026gt;(); 栈顶：\nstack.peek() 入栈：\nstack.push(); 出栈：\nstack.pop(); 栈是否为空：\nstack.isEmpty(); 栈的长度：\nstack.size(); ArrayList 创建列表：\nList\u0026lt;Integer\u0026gt; array = new ArrayList\u0026lt;\u0026gt;(); List\u0026lt;Integer\u0026gt; array = new ArrayList\u0026lt;\u0026gt;(Arrays.asList(1, 2, 3, 4));\t// 初始化值 添加元素：\narray.add(1);\t// List只能在末尾添加元素，在中间插入元素会导致额外的内存开销，可以选择使用LinkedList 指定位置的元素：\narray.get(0); 列表中是否存在某元素：\narray.contains(0); 删除列表元素：\narray.remove(0);\t// 删除array[0] array.remove(Integer.valueOf(0));\t// 删除元素0 列表大小：\narray.size(); 判断列表是否为空：\narray.isEmpty(); 清空列表：\narray.clear(); 升序排列：\narray.sort(Comparator.naturalOrder()); 降序排列：\narray.sort(Comparator.reverseOrder()); 修改值：\narray.set(int index, int value); 反转：\nCollections.reverse(array); HashMap 创建一个哈希映射：\nMap\u0026lt;Integer, Integer\u0026gt; map = new HashMap\u0026lt;\u0026gt;(); 存储键值对（修改键值对）：\nmap.put(key, value); // 如果不知道key存不存在 map.putIfAbsent(key, defVal); 获取 key 的内容：\nmap.get(key); // 如果不知道key存不存在 map.getOrDefault(key, defVal); // 常见用法 map.put(key, map.getOrDefault(key, 0) + 1); 计算：\n// 键不存在时执行的操作 map.computeIfAbsent(key, k -\u0026gt; mappingFunc); // 键存在时执行的操作 map.computeIfPresent(key, (k, v) -\u0026gt; mappingFunc); 查询是否存在 key：\nmap.containsKey(key); 键集合和值集合：\n// 返回一个Collections\u0026lt;V\u0026gt;视图，keys组成的集合 map.keySet(); // 返回一个Collections\u0026lt;V\u0026gt;视图，values组成的集合 map.values(); // 假设map为{1: {1, 2, 3}, 2: {2, 3, 4}} map.keySet = {1, 2}; map.values = {{1, 2, 3}, {2, 3, 4}}; 遍历键值对：\n// 遍历key for (Integer key : map.keySet()) { } // 遍历value for (Integer value : map.values()) { } // 如果需要同时访问键和值，使用map.entrySet()会更直观 for (Map.Entry\u0026lt;Integer, Integer\u0026gt; entry : map.entrySet()) { Integer key = entry.getKey(); Integer value = entry.getValue(); } 是否为空：\nmap.isEmpty(); 删除Key：\nmap.remove(key); 大小：\nmap.size(); HashSet 创建哈希表：\nSet\u0026lt;Integer\u0026gt; set = new HashSet\u0026lt;\u0026gt;(); 添加元素：\nset.add(); 判断元素是否存在：\nset.contains();\t// HashSet查找元素要优于ArrayList 删除元素：\nset.remove(); 清空：\nset.clear(); 遍历：\nfor (int temp : set) { ... } StringBuilder 创建 StringBuilder：\nStringBuilder sb = new StringBuilder(); 在末尾添加字符或字符串：\nsb.append(char); 在末尾删除字符：\nsb.deleteCharAt(sb.length() - 1); 长度：\nsb.length(); 转化为 String：\nsb.toString(); 取反：\nsb.reverse(); 插入：\nsb.insert(0, \u0026#34;abcd\u0026#34;);\t// 在第0个元素插入\u0026#34;abcd\u0026#34; 清空：\nsb.setLength(0); 取字符：\nsb.charAt(i); 修改位置的字符：\nsb.setCharAt(i); Queue 创建queue:\nQueue\u0026lt;Integer\u0026gt; q = new LinkedList\u0026lt;\u0026gt;(); 加入元素：\nq.offer(1); 删除元素（先进先出）：\nq.poll(); 队首元素：\nq.peek(); 队列大小：\nq.size(); 是否为空：\nq.isEmpty(); 队列清空：\nq.clear(); Deque 创建Deque：\nDeque\u0026lt;Integer\u0026gt; deque = new ArrayDeque\u0026lt;\u0026gt;(); 队尾添加元素：\ndeque.offerLast();\t// queue的用法 队首弹出元素：\ndeque.pollFirst();\t// queue的用法 取队首元素：\ndeque.peekFirst();\t// queue的用法 队首添加元素：\ndeque.offerFirst(); 队尾弹出元素：\ndeque.pollLast(); 取队尾元素：\ndeque.peekLast(); LinkedList 新建链表：\nLinkedList\u0026lt;Integer\u0026gt; link = new LinkedList\u0026lt;\u0026gt;(); 头部插入：\nlink.addFirst(); 末尾插入：\nlink.addLast(); link.add(); 指定位置插入：\nlink.add(int index, int Ele); 清空：\nlink.clear(); 删除并返回第一个：\nlink.removeFirst(); 删除并返回最后一个：\nlink.removeLast(); 删除特定位置：\nlink.remove(int index); 删除特定元素：\nlink.remove(Object o); link.remove(Integer.valueOf(2)); 重设：\nlink.set(); 头部取值：\nlink.getFirst(); 尾部取值：\nlink.getLast(); 特定位置取值：\nlink.get(int index); 是否存在：\nlink.contains(int key); 遍历：\n// 不涉及元素增添或删除可以用for each for (String element : link) { } // 涉及到则需要使用迭代器 Iterator\u0026lt;String\u0026gt; iterator = link.iterator();\t// 初始化时指向哑节点 while (iterator.hasNext()) { String element = iterator.next(); } PriorityQueue 创建优先队列：\n// 小根堆 (Min Heap) PriorityQueue\u0026lt;Integer\u0026gt; pq = new PriorityQueue\u0026lt;\u0026gt;(); // 大根堆 (Max Heap) PriorityQueue\u0026lt;Integer\u0026gt; pq = new PriorityQueue\u0026lt;\u0026gt;((a, b) -\u0026gt; b - a); 插入元素：\n// 每次插入一个元素，时间复杂度是O(log k)，其中k是堆中当前元素的个数 // 将n个元素逐个push到一个空的大根堆的时间复杂度为O(n log n) pq.offer(); 取堆顶：\npq.peek(); 弹出堆顶：\n// 同样，pop一次的时间复杂度为O(log n) // n个元素则为O(n log n) pq.poll(); 删除特定元素：\npq.remove(); 堆大小：\npq.size(); AtomicInteger 多线程中的integer，线程操作对其是原子性的，不会被其他线程打断。\n创建：\nAtomicInteger a = new AtomicInteger(0); 获取当前值：\nint value = a.get(); 设置值：\na.set(2); 先获取再设置：\nint oldValue = a.getAndSet(20); 先比较再设置：\nboolean updated = a.compareAndSet(20, 43); // 如果a == 20，则将a = 43，updated = true // 如果a != 20，则将a不更新，updated = false 加一，返回加一后的值：\nint incrementedValue = a.incrementAndGet(); 减一，返回减一后的值：\nint decrementedValue = a.decrementAndGet(); 互相转换 // int转String int i; String str = String.valueOf(i); // String转int String str; int i = Integer.parseInt(str); // char转int char ch; int i = ch - \u0026#39;0\u0026#39;; // int转char int i; char ch = (char) (i + \u0026#39;0\u0026#39;); // String转char[] String str; char[] ch = str.toCharArray(); // char[]转String char[] ch; String str = Arrays.toString(ch);\t// 转化后有[]包裹 // char转String char ch = \u0026#39;a\u0026#39;; String str = ch + \u0026#34;\u0026#34;; // ArrayList转Integer[] List\u0026lt;Integer\u0026gt; list; Integer[] array = list.toArray(new Integer[list.size()]); // Integer[]转ArrayList Integer[] array; List\u0026lt;Integer\u0026gt; list = Arrays.asList(array); 坑 Math.ceil：\ndouble Math.ceil(double a);\t// 原函数 Math.ceil(24 / 23);\t// 1.0 Math.ceil(22 / 23);\t// 0.0 Math.ceil((double) 24 / 23);\t// 2.0 (int) Math.ceil((double) 24 / 23);\t// 2 Math.pow:\nMath.pow(10, 9);\t// 如果想求次方必须要用pow函数，返回double 10 ^ 9;\t// 这里表示的是亦或而不是次方 二维数组：\nint[][] a = new int[][] {{1, 2}, {3, 4}}; int[] b = a[1];\t// b = [3, 4] b[1] = 100; // a = [[1, 2], [3, 100]] ","permalink":"https://kyxie.me/en/blog/tech/utils/java/","summary":"Character 判断是否为字母或数字： boolean res = Character.isLetterOrDigit(char); 转小写： char res = Character.toLowerCase(char); 下一个字符： \u0026#39;b\u0026#39; == (char) (\u0026#39;a\u0026#39; + 1); Integer 最大值最小值： int max = Integer.MAX_VALUE; int min = Integer.MIN_VALUE; 比较相等： Integer a = 1; Integer b = 1; a == b; // true","title":"Java Cheat Sheet"},{"content":"Linux 下载OpenLDAP：\nsudo apt update sudo apt install slapd ldap-utils sudo apt install ldap-utils 配置OpenLDAP：\nsudo dpkg-reconfigure slapd DNS domain name: example.org\nPassword: root\n创建user.ldif：\n# ldap是username dn: uid=ldap,dc=example,dc=org objectClass: inetOrgPerson objectClass: posixAccount uid: ldap sn: LDAP givenName: LDAP cn: LDAP User displayName: LDAP User uidNumber: 10000 gidNumber: 10000 homeDirectory: /home/ldap loginShell: /bin/bash 把user加入OpenLDAP服务器：\nldapadd -x -D \u0026#34;cn=admin,dc=example,dc=org\u0026#34; -W -f user.ldif 启动和查看OpenLDAP的状态：\nsudo systemctl start slapd sudo systemctl status slapd 查看当前已有的用户：\nldapsearch -x -LLL -b \u0026#34;dc=example,dc=org\u0026#34; \u0026#34;(objectclass=inetOrgPerson)\u0026#34; uid userPassword 修改用户密码：\nldappasswd -x -D \u0026#34;cn=admin,dc=example,dc=org\u0026#34; -W -S \u0026#34;uid=ldap,dc=example,dc=org\u0026#34; ","permalink":"https://kyxie.me/en/blog/tech/router/ldap/","summary":"Linux 下载OpenLDAP： sudo apt update sudo apt install slapd ldap-utils sudo apt install ldap-utils 配置OpenLDAP： sudo dpkg-reconfigure slapd DNS domain name: example.org Password: root 创建user.ldif： # ldap是username","title":"Linux配置LDAP Server"},{"content":"通过使用keys我们可以免密登录Linux server，这样以后ssh到Linux的时候就不需要每次填写密码了。\n首先在windows上生成一个密钥对，一般会生成在C:\\Users\\Username/.ssh/id_rsa，而且都是成对生成的，会有一个公钥id_rsa.pub和一个私钥。\nssh-keygen 在Linux中查看是否有.ssh目录，如果没有则新建\ncd ~ mkdir -p ~/.ssh chmod 700 ~/.ssh 将公钥id_rsa.pub上传到Linux\ncd C:\\Users\\Username/.ssh/ scp .\\id_rsa.pub username@address:~/.ssh 在Linux中查看是否有authorized_keys文件，如果没有则新建\ncd ~/.ssh touch authorized_keys chmod 600 ./authorized_keys cat id_rsa.pub \u0026gt;\u0026gt; ./authorized_keys 添加完之后就可以将id_rsa.pub删除了\ncd ~/.ssh rm id_rsa.pub 这样以后就不再需要输密码了。\n","permalink":"https://kyxie.me/en/blog/tech/router/keys/","summary":"通过使用keys我们可以免密登录Linux server，这样以后ssh到Linux的时候就不需要每次填写密码了。 首先在windows上生成一","title":"使用Keys免密ssh到Linux"},{"content":"class Me: def __init__(self): self.name = \u0026#34;Kyrie Xie\u0026#34; self.born_year = 1999 self.MBTI = \u0026#34;ISTJ\u0026#34; self.hometown = \u0026#34;Weifang, Shandong, CN\u0026#34; self.location = \u0026#34;Toronto, ON, CA\u0026#34; self.school = \u0026#34;UESTC, uWaterloo\u0026#34; ","permalink":"https://kyxie.me/en/about/","summary":"class Me: def __init__(self): self.name = \u0026#34;Kyrie Xie\u0026#34; self.born_year = 1999 self.MBTI = \u0026#34;ISTJ\u0026#34; self.hometown = \u0026#34;Weifang, Shandong, CN\u0026#34; self.location = \u0026#34;Toronto, ON, CA\u0026#34; self.school = \u0026#34;UESTC, uWaterloo\u0026#34; ","title":"About Me 👋"}]