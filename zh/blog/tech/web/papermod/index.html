<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Hugo &#43; PaperMod搭建技术博客 | Kunyang&#39;s Blog</title>
<meta name="keywords" content="PaperMod, Hugo">
<meta name="description" content="安装过程 首先需要安装Hugo，安装Hugo需要利用一个包管理工具，对于Windows系统Hugo可以直接用Winget来安装，打开终端输入 winget">
<meta name="author" content="Kyxie">
<link rel="canonical" href="https://kyxie.me/zh/blog/tech/web/papermod/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.1922b49974f4fb943cea06098875ffc163ffa54447b089e124d7ae367d9e2801.css" integrity="sha256-GSK0mXT0&#43;5Q86gYJiHX/wWP/pURHsInhJNeuNn2eKAE=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.f61a30837a1dd79c8e15931b0916e2469274f1900212a78e5fcc9b3d40026a16.js" integrity="sha256-9howg3od15yOFZMbCRbiRpJ08ZACEqeOX8ybPUACahY="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://kyxie.me/Favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://kyxie.me/Favicon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://kyxie.me/Favicon.png">
<link rel="apple-touch-icon" href="https://kyxie.me/Favicon.png">
<link rel="mask-icon" href="https://kyxie.me/Favicon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://kyxie.me/en/blog/tech/web/papermod/">
<link rel="alternate" hreflang="zh" href="https://kyxie.me/zh/blog/tech/web/papermod/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>



<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono&display=swap" rel="stylesheet">


<link href="https://fonts.cdnfonts.com/css/code-new-roman" rel="stylesheet"><meta property="og:title" content="Hugo &#43; PaperMod搭建技术博客" />
<meta property="og:description" content="安装过程 首先需要安装Hugo，安装Hugo需要利用一个包管理工具，对于Windows系统Hugo可以直接用Winget来安装，打开终端输入 winget" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://kyxie.me/zh/blog/tech/web/papermod/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2022-04-15T00:28:55-04:00" />
<meta property="article:modified_time" content="2025-07-30T00:47:12-04:00" /><meta property="og:site_name" content="Kyxie" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Hugo &#43; PaperMod搭建技术博客"/>
<meta name="twitter:description" content="安装过程 首先需要安装Hugo，安装Hugo需要利用一个包管理工具，对于Windows系统Hugo可以直接用Winget来安装，打开终端输入 winget"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "博客 📒",
      "item": "https://kyxie.me/zh/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "折腾 🔧",
      "item": "https://kyxie.me/zh/blog/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "个人网站 🌐",
      "item": "https://kyxie.me/zh/blog/tech/web/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "Hugo + PaperMod搭建技术博客",
      "item": "https://kyxie.me/zh/blog/tech/web/papermod/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Hugo + PaperMod搭建技术博客",
  "name": "Hugo \u002b PaperMod搭建技术博客",
  "description": "安装过程 首先需要安装Hugo，安装Hugo需要利用一个包管理工具，对于Windows系统Hugo可以直接用Winget来安装，打开终端输入 winget",
  "keywords": [
    "PaperMod", "Hugo"
  ],
  "articleBody": "安装过程 首先需要安装Hugo，安装Hugo需要利用一个包管理工具，对于Windows系统Hugo可以直接用Winget来安装，打开终端输入\nwinget install Hugo.Hugo.Extended 如果提示not recognized as the name of cmdlet，查找C:\\Users\\Username\\AppData\\Local\\Microsoft\\WindowsApps目录下有没有winget.exe，如果存在则添加这个目录到环境变量，否则去应用商店找winget，这是windows官方提供的windows包管理工具，一般系统里都会自带\nHugo的tutorial介绍了如何创建一个项目，其中step2（.yml的config文件）和step3（下载主题）要根据PaperMod的guide来配置\n文件介绍 content：用于放博客内容 data：不用管 layouts：自定义的HTML public：项目导出文件 resources：自定义的CSS和JavaScript static：存放的图片 themes：主题 进入themes/PaperMod则是PaperMod的相关代码，比较主要的目录有：\nassets：PaperMod的CSS和JavaScript代码 layouts：PaperMod的HTML Config.yml 建议直接按照GitHub - xyming108/sulv-hugo-papermod进行配置\n创建文章 在终端输入 hugo new 文章名称.md 就会在 content 文件夹下创建markdown文件，文章头部信息可以修改这篇文章的属性\n常见的头部字段功能\n基本字段\ntitle: 页面标题，用于显示在浏览器标题、文章标题等地方\ndate: 创建日期，例如 2024-11-15T20:00:00+00:00\nlastmod: 最近修改时间，常用于生成更新时间\ndraft: 是否为草稿（true 表示草稿，生成站点时会被忽略）\nauthor: 作者名称 description: 页面描述，用于 SEO 和摘要\nslug: 页面友好的 URL 片段\nurl: 自定义页面 URL type: 页面类型（例如 post、page），决定模板的选择\n分类和标签\ncategories: 页面所属分类，例如 [“Tech”, “Programming”]\ntags: 页面标签，例如 [“Hugo”, “Static Site Generator”]\n页面内容控制\nsummary: 页面摘要，如果未指定，会自动从内容中提取\nweight: 排序权重，数值越小越靠前\naliases: 页面别名，用于创建 URL 重定向，例如 [\"/old-url/\"]\nlayout: 指定使用的布局模板，例如 single 或 list\noutputs: 输出格式，默认是 HTML，可以是 JSON、AMP 等\nresources: 页面资源，用于定义图片、PDF 等\nSEO和社交\nkeywords: 页面关键字，例如 [“Hugo”, “Markdown”, “SEO”]\ncanonical: Canonical URL，指定搜索引擎的首选页面地址\nimages: 页面分享时的图片链接（用于社交平台）\n创建子文件夹 可以直接用文件夹来管理目录，比如这是我中文博客的目录\n@Kunyang ➜ blog git(master) tree /F D:. │ _index.md │ ├───Life │\t... ├───Tech │ │ _index.md │ │ │ ├───Web │ │ Papermod.md | | ... │ │ _index.md │ │... │ └───Wool ... 可以看到每一层都有一个 _index.md 用来管理文件层级，文件中只包含头部信息。由于我使用了多语言，因此第一层不要添加 url 字段\n# zh/blog/_index.md title: \"博客 📒\" date: 2022-06-11T21:59:32-04:00 draft: false hidemeta: true 除此之外，在其他的子文件夹中的 _index.md 建议都添加 url 字段\n# zh/blog/tech/web/_index.md title: \"建站 🚧\" date: 2024-11-15T01:01:32-04:00 draft: false hidemeta: true url: \"/zh/blog/tech/web/\" weight: 1 可以使用 weight 字段来排序\n最后更新 可以修改 post_meta.html 加入\n{{- $scratch := newScratch }} {{ $date := .Date }} {{ $lastmod := \"\" }} {{- if not .Lastmod.IsZero -}} {{ $lastmod = .Lastmod }} {{- end }} {{- if not .Date.IsZero -}} {{- $scratch.Add \"meta\" (slice (printf \"\u003cspan title='%s'\u003e%s\u003c/span\u003e\" (.Date) (.Date | time.Format (default \"January 2, 2006\" site.Params.DateFormat)))) }} {{- end }} {{- if ne $lastmod $date -}} {{- $scratch.Add \"meta\" (slice (printf \"\u003cspan title='%s'\u003e%s%s\u003c/span\u003e\" (.Lastmod) (i18n \"updated\") (.Lastmod | time.Format (default \"January 2, 2006\" site.Params.DateFormat)))) }} {{- end }} ... {{- with ($scratch.Get \"meta\") }} {{- delimit . \"\u0026nbsp;·\u0026nbsp;\" -}} {{- end -}} 本地预览 在终端输入 hugo server -D 启动，建议新建一个.bat文件执行这条指令。 启动服务器后，打开浏览器，本地预览网址为 localhost:1313。 网站部署 我用的是GitHub Page\n在GitHub里创建一个仓库，名称叫做 你的名字.github.io 当我们本地预览没问题了的时候，在终端输入 hugo -F --cleanDestinationDir，在 public 文件夹下就会生成输出文件 我们将 public 文件夹作为GitHub Page的本地仓库，每次生成输出文件就推送到GitHub上，GitHub Page就会自动帮我们部署了 自定义域名 建议早一点买个域名，避免配置完一遍结果更换了域名又得重新再配置一遍。\n点击GitHub右上角头像 → Settings → Pages → Add a Domain\n填入自己的域名，我的是 kyxie.me，然后会生成一个DNS TXT record，相当于一个用户名和密码，验证一下这个域名是属于你的\n我的域名是在cloudflare申请的，在kyxie.me -\u003e DNS -\u003e Records -\u003e Add Records，添加三条规则，前两条为\nType Name Target CNAME @ kyxie.github.io CNAME www kyxie.github.io 第三条Type是TXT，Name为GitHub生成的Record，TTL选择Auto，Content是GitHub生成的Value\n然后在SSL/TLS -\u003e Edge Certificates -\u003e 勾选Always Use HTTPS\n配置完后回到GitHub，点击Verify，成功后会如图所示\n我的网站框架为Hugo，在static文件下添加一个文件 CNAME，没有后缀名，内容为你的域名 kyxie.me，然后publish出来push到GitHub就好了\n多语言 如果我们想要使用多语言（中英为例），就需要在 content 文件夹下准备两个文件夹，例如 Chinese 和English，一个放中文，另一个放英文。\n在 config.yml 中需要做以下修改：\ndefaultContentLanguage: en defaultContentLanguageInSubdir: true languages: en: languageName: \"English\" contentDir: content/English zh: languageName: \"中文\" contentDir: content/Chinese 搜索功能 分别在中英文的文件夹下创建 search.md（hugo new search.md），修改文件头为\ntitle: \"Search\" date: ... draft: false layout: search config.yml中添加\nmenu: main: -identifier: Search name: Search url: search weight: ... Hover 主要在 themes/PaperMod/assets/css/common/header.css 中修改。\n左上角Home的hover\n.logo a:hover { transition: 0.15s; color: grey; } 社交媒体hover\nsvg:hover { transition: 0.15s; } .social-icons a:nth-child(1) svg:hover{ color: #C84370 !important; } .social-icons a:nth-child(2) svg:hover { color: grey !important; } ... nth-child可以设置各个图标的hover颜色\n黑夜模式和白天模式的hover\n#moon:hover { transition: 0.15s; color: deepskyblue; } #sun:hover { transition: 0.15s; color: gold; } menu中链接hover\n#menu a:hover { transition: 0.15s; color: grey; } 按钮hover，在themes/PaperMod/assets/css/common/profile-mode.css中修改\n.button:hover { -webkit-transform: scale(1.1); -moz-transform: scale(1.1); -ms-transform: scale(1.1); -o-transform: scale(1.1); /* box-shadow: 0 0 0 1px grey; */ transform: scale(1.1) translateZ(0) translate3d(0, 0, 0) rotate(0.01deg); } 自定义社交媒体图标 利用SVG图标制作网站，比如icons8，找到我们需要的图标，例如微信\n可以利用左侧菜单栏的Stroke调节线条粗细\n点击 download，SVG Embed，自定义图标大小为24*24，然后点击 copy HTML\n在 themes/PaperMod/layouts/partials/svg.html 中粘贴复制的HTML\n需要修改为 fill=currentColor stroke=currentColor，才能适应白天黑夜切换\n微信和微博的图标\n{{- else if (eq $icon_name \"wechat\") -}} \u003csvg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" width=\"24\" height=\"24\" viewBox=\"0 0 50 50\"\u003e \u003cg fill=\"currentColor\" stroke=\"currentColor\" stroke-width=\"2\"\u003e \u003cpath d=\"M 19 6 C 9.746094 6 2 12.359375 2 20.5 C 2 24.894531 4.292969 28.679688 7.835938 31.324219 L 5.179688 39.304688 L 13.472656 34.167969 C 15.1875 34.707031 17.082031 35 19 35 C 19.746094 35 20.472656 34.945313 21.195313 34.863281 C 23.378906 39.105469 28.328125 42 34 42 C 35.722656 42 37.316406 41.675781 38.796875 41.234375 L 45.644531 45.066406 L 43.734375 38.515625 C 46.3125 36.375 48 33.394531 48 30 C 48 23.789063 42.597656 18.835938 35.75 18.105469 C 34.398438 11.125 27.324219 6 19 6 Z M 19 8 C 26.308594 8 32.328125 12.351563 33.703125 18.011719 C 26.183594 18.148438 20 23.355469 20 30 C 20 31.019531 20.160156 32.003906 20.4375 32.941406 C 19.964844 32.980469 19.484375 33 19 33 C 17.101563 33 15.199219 32.710938 13.632813 32.15625 L 13.183594 32 L 8.820313 34.699219 L 10.1875 30.59375 L 9.5625 30.171875 C 6.082031 27.820313 4 24.445313 4 20.5 C 4 13.640625 10.65625 8 19 8 Z M 13 14 C 11.898438 14 11 14.898438 11 16 C 11 17.101563 11.898438 18 13 18 C 14.101563 18 15 17.101563 15 16 C 15 14.898438 14.101563 14 13 14 Z M 25 14 C 23.898438 14 23 14.898438 23 16 C 23 17.101563 23.898438 18 25 18 C 26.101563 18 27 17.101563 27 16 C 27 14.898438 26.101563 14 25 14 Z M 34 20 C 40.746094 20 46 24.535156 46 30 C 46 32.957031 44.492188 35.550781 42.003906 37.394531 L 41.445313 37.8125 L 42.355469 40.933594 L 39.105469 39.109375 L 38.683594 39.25 C 37.285156 39.71875 35.6875 40 34 40 C 27.253906 40 22 35.464844 22 30 C 22 24.535156 27.253906 20 34 20 Z M 29.5 26 C 28.699219 26 28 26.699219 28 27.5 C 28 28.300781 28.699219 29 29.5 29 C 30.300781 29 31 28.300781 31 27.5 C 31 26.699219 30.300781 26 29.5 26 Z M 38.5 26 C 37.699219 26 37 26.699219 37 27.5 C 37 28.300781 37.699219 29 38.5 29 C 39.300781 29 40 28.300781 40 27.5 C 40 26.699219 39.300781 26 38.5 26 Z\"\u003e \u003c/path\u003e \u003c/g\u003e \u003c/svg\u003e {{- else if (eq $icon_name \"weibo\") -}} \u003csvg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" width=\"24\" height=\"24\" viewBox=\"0 0 172 172\"\u003e \u003cg fill=\"currentColor\" stroke=\"currentColor\" stroke-width=\"4\"\u003e \u003cpath d=\"M120.4,20.64c-2.67406,0 -5.25406,0.26875 -7.74,0.71219c-1.86781,0.3225 -3.1175,2.10969 -2.795,3.9775c0.3225,1.88125 2.10969,3.13094 3.9775,2.80844c2.17688,-0.38969 4.35375,-0.61813 6.5575,-0.61813c20.93563,0 37.84,16.90438 37.84,37.84c0,4.52844 -0.83312,8.85531 -2.31125,12.91344c-0.45687,1.16906 -0.25531,2.48594 0.5375,3.45344c0.80625,0.9675 2.05594,1.42437 3.29219,1.19594c1.23625,-0.22844 2.24406,-1.11531 2.63375,-2.29781c1.73344,-4.75687 2.72781,-9.87656 2.72781,-15.265c0,-24.65781 -20.06219,-44.72 -44.72,-44.72zM120.4,41.28c-1.46469,0 -2.84875,0.14781 -4.16562,0.37625c-1.86781,0.33594 -3.13094,2.10969 -2.795,3.99094c0.3225,1.86781 2.10969,3.1175 3.9775,2.795c1.00781,-0.17469 2.00219,-0.28219 2.98312,-0.28219c9.54063,0 17.2,7.65938 17.2,17.2c0,2.05594 -0.37625,4.01781 -1.06156,5.87219c-0.645,1.78719 0.28219,3.7625 2.06938,4.4075c1.78719,0.645 3.7625,-0.26875 4.4075,-2.05594c0.92719,-2.55312 1.46469,-5.32125 1.46469,-8.22375c0,-13.26281 -10.81719,-24.08 -24.08,-24.08zM72.46844,42.6775c-11.04562,0 -27.50656,8.66719 -42.18031,23.07219c-14.76781,14.76781 -23.40813,30.24781 -23.40813,43.57781c0,25.9075 33.12344,41.3875 65.88406,41.3875c42.47594,0 70.90969,-24.46969 70.90969,-43.91375c0,-11.87875 -10.07812,-18.35562 -19.08125,-21.23125c-2.15,-0.72562 -3.60125,-1.08844 -2.52625,-3.96406c0.72563,-1.73344 1.77375,-5.01219 1.77375,-9.36594c0,-4.945 -3.44,-9.23156 -10.32,-9.9975c-0.79281,-0.08062 -2.13656,-0.14781 -3.82969,-0.14781c-5.6975,0 -15.48,0.71219 -22.52125,3.66844c0,0 -1.38406,0.57781 -2.49938,0.57781c-1.00781,0 -1.80062,-0.48375 -1.11531,-2.37844c2.52625,-7.91469 2.16344,-14.39156 -1.80063,-18.00625c-2.23062,-2.23062 -5.42875,-3.27875 -9.28531,-3.27875zM72.46844,49.5575c1.43781,0 3.37281,0.215 4.43438,1.26313l0.1075,0.12094l0.12094,0.1075c1.54531,1.41094 1.51844,5.61687 -0.09406,10.72312c-1.38406,3.99094 -0.09406,6.75906 0.81969,8.04906c1.51844,2.16344 4.00437,3.39969 6.81281,3.39969c2.28438,0 4.39406,-0.79281 5.14656,-1.11531c5.50938,-2.31125 13.88094,-3.13094 19.87406,-3.13094c1.53187,0 2.60687,0.05375 3.07719,0.1075c2.78156,0.30906 4.1925,1.37063 4.1925,3.15781c0,3.23844 -0.77937,5.61688 -1.23625,6.73219l-0.05375,0.1075l-0.04031,0.09406c-1.075,2.88906 -1.06156,5.50938 0.04031,7.80719c1.62594,3.39969 4.82406,4.46125 6.54406,5.03906l0.28219,0.09406c5.34813,1.70656 14.2975,5.88562 14.2975,14.68719c0,7.90125 -6.81281,17.65688 -18.90656,25.16844c4.77031,-5.54969 7.47125,-12.05344 7.47125,-19.05437c0,-21.01625 -24.37562,-37.47719 -55.48344,-37.47719c-31.10781,0 -55.47,16.46094 -55.47,37.47719c0,0.645 0.01344,1.27656 0.05375,1.90812c-0.45687,-1.76031 -0.69875,-3.60125 -0.69875,-5.49594c0,-11.16656 7.59219,-24.91312 21.33875,-38.65969c14.86188,-14.59313 29.48188,-21.11031 37.36969,-21.11031zM69.875,82.33156c26.84813,0 48.60344,13.69281 48.60344,30.59719c0,16.89094 -21.75531,30.58375 -48.60344,30.58375c-26.83469,0 -48.59,-13.69281 -48.59,-30.58375c0,-16.90437 21.75531,-30.59719 48.59,-30.59719zM66.27375,89.52063c-10.38719,0.08062 -20.47875,5.76469 -24.85937,14.52594c-5.40188,11.13969 -0.36281,23.38125 12.59094,27.33187c12.95375,4.31344 28.42031,-2.16344 33.82219,-14.02875c5.38844,-11.5025 -1.43781,-23.73062 -14.39156,-26.95562c-2.365,-0.61813 -4.77031,-0.88688 -7.16219,-0.87344zM71.63531,104.06c1.98875,0 3.60125,1.59906 3.60125,3.58781c0,1.98875 -1.6125,3.60125 -3.60125,3.60125c-1.98875,0 -3.60125,-1.6125 -3.60125,-3.60125c0,-1.98875 1.6125,-3.58781 3.60125,-3.58781zM56.47781,107.64781c1.12875,0.01344 2.2575,0.18812 3.31906,0.55094c4.60906,1.46469 6.02,5.83188 3.18469,9.47344c-2.4725,3.64156 -8.12969,5.45563 -12.38938,3.64156c-4.23281,-1.81406 -5.29437,-6.19469 -2.82187,-9.46c1.85437,-2.74125 5.30781,-4.24625 8.7075,-4.20594z\"\u003e \u003c/path\u003e \u003c/g\u003e \u003cpath d=\"\" fill=\"none\"\u003e\u003c/path\u003e \u003c/svg\u003e 目录栏目放侧边 详见：GitHub - xyming108/sulv-hugo-papermod。\nMarkdown渲染风格 详见：折腾 Hugo \u0026 PaperMod 主题 - Dvel’s Blog\n流量统计 我使用了Umami，详见：Debian使用Docker部署Umami | Kunyang’s Blog\n插入B站，YouTube视频或PPT 详见：GitHub - xyming108/sulv-hugo-papermod\n插入音乐播放器 详见：Hugo插入音乐播放器\n隐藏歌词：lrc-type=0\n修改全局字体 首先找到喜欢的字体，然后可以在Google Fonts中查询字体，我目前的文章字体为CodeNewRoman。Google Fonts会生成HTML和css，将HTML插入到themes/PaperMod/layouts/partials/extend_head.html中，将CSS插入到themes/PaperMod/assets/css/extended/blank.css。\nbody { font-family: 'Code New Roman', sans-serif; font-size: 1rem; line-height: 1.5; margin: 0; } 修改代码字体 与全局字体类似，区别为CSS代码插入的位置不同。\n.post-content pre, code { font-family: 'Code New Roman', sans-serif; max-height: 40rem; } 评论功能 详见：GitHub - xyming108/sulv-hugo-papermod\nGmail邮箱配置 登录Google Account，进入Security / Signing in to Google / 2-Step Verification / App passwords。点击Generate，并记住这个16位的密码\n在Twikoo中进行配置：\nSENDER_EMAIL：你的gmail邮箱\nSENDER_NAME：发件人名，我写的是Notification from Kunyang’s Blog\nSMTP_SERVICE：Gmail\nSMTP_HOST：smtp.gmail.com\nSMTP_PORT：587\nSMTP_SECURE：true\nSMTP_USER：你的gmail邮箱\nSMTP_PASS：16位的应用密码\nSMTP_SUBJECT：邮件主题，我写的是You have received a response from Kunyang’s Blog\nMAIL_TEMPLATE：邮件模板，我的是\n\u003cdiv style=\"border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;\"\u003e \u003ch2 style=\"border-bottom:1px solid #dddddd;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;\"\u003e You have received a new response from \u003ca style=\"text-decoration:none;color:#12ADDB;\" href=\"https://kyxie.github.io/\" target=\"_blank\"\u003eKunyang's Blog\u003c/a\u003e \u003c/h2\u003e ${PARENT_NICK} Your comment: \u003cdiv style=\"padding:0 12px 0 12px;margin-top:18px\"\u003e \u003cdiv style=\"background-color:#f5f5f5;padding:10px 15px;margin:18px 0;word-wrap:break-word;\"\u003e ${PARENT_COMMENT} \u003c/div\u003e \u003cp\u003e \u003cstrong\u003e${NICK}\u003c/strong\u003e says: \u003c/p\u003e \u003cdiv style=\"background-color:#f5f5f5;padding:10px 15px;margin:18px 0;word-wrap:break-word;\"\u003e ${COMMENT} \u003c/div\u003e \u003cp\u003e Click \u003ca style=\"text-decoration:none;color:#12ADDB;\" href=\"${POST_URL}\" target=\"_blank\"\u003eto view the reply\u003c/a\u003e, welcome to \u003ca style=\"text-decoration:none;color:#12ADDB;\" href=\"${SITE_URL}\" target=\"_blank\"\u003e${SITE_NAME}\u003c/a\u003e。\u003cbr\u003e \u003c/p\u003e \u003c/div\u003e \u003c/div\u003e 配置完成后评论消息就会有gmail邮箱发送的邮件提醒了，outlook邮箱配置见：关于邮箱配置的问题？ · twikoojs/twikoo · Discussion #249 (github.com)。\n自定义邮箱回复模板 详见：自定义Twikoo邮件通知模板 | Guo Le’s Blog\n代码高亮 在两个地方修改\n一个是themes/PaperMod/assets/css/common/post-single.css：\n.post-content pre code { display: block; margin: auto 0; padding: 10px; /* 主要代码颜色 */ color: #abb2bf; font-weight: 200; overflow-x: auto; word-break: break-all; } 另一个是在themes/PaperMod/assets/css/hljs/an-old-hope.min.css，这是我自己修改的：\n/* 注释 */ .hljs-comment, .hljs-quote { font-weight: 200; color: #7f848e; } .hljs-deletion, /* html标签 */ .hljs-name, .hljs-regexp, .hljs-tag { font-weight: 200; color: #e06c75; } /* html属性 */ .hljs-tag { font-weight: 200; color: #d19a66; } /* css类名 */ .hljs-template-variable, .hljs-variable, .hljs-selector-class, .hljs-selector-id { font-weight: 200; color: #a9b600; } /* 内置函数 */ .hljs-built_in, .hljs-builtin-name { font-weight: 200; color: #56b6c2; } /* 函数输入 */ .hljs-params { font-weight: 200; color: #e5c07b; } /* 数字 */ .hljs-number { font-weight: 200; color: #d19a66; } /* css属性 */ .hljs-attribute { font-weight: 200; color: #ee7c2b; } /* 字符串 */ .hljs-addition, .hljs-bullet, .hljs-symbol, .hljs-string { font-weight: 200; color: #98c379; } /* 函数名称 */ .hljs-section, .hljs-title { font-weight: 200; color: #56b6c2; } /* 关键字 */ .hljs-keyword, .hljs-selector-tag, .hljs-literal, .hljs-link, .hljs-meta, .hljs-type { font-weight: 200; color: #c678dd; } .hljs { display: block; overflow-x: auto; background: #1c1d21; color: #c0c5ce; padding: 0.5em; } .hljs-emphasis { font-style: italic; } .hljs-strong { font-weight: 700; } /* 选中时的背景颜色 */ .hljs ::selection, .hljs::selection { background-color: #3d4556; } 代码边框圆角 themes/PaperMod/assets/css/common/post-single.css中修改：\n.post-content .highlight pre { background-color: var(--theme) !important; margin: 0; } 添加友链 详见：GitHub - xyming108/sulv-hugo-papermod\n图床 之前一直在使用Imgur的图床，但是国内的小伙伴说即使挂了梯子也看不到图片，现在有了域名打算利用Cloudflare自己做一个图床\n首先下载PicGo，Windows用户可以在GitHub下载.exe文件，Mac用户则建议使用Homebrew下载，命令为\nbrew install picgo --cask 下载完之后在LaunchPad出现了PicGo的图标，但是假如显示损坏让你移动到垃圾桶，这时只需要在终端输入\nsudo xattr -r -d com.apple.quarantine /Applications/PicGo.app 就可以解决问题了，安装完之后出现在顶部状态栏（Windows在右下角）\n然后回到Cloudflare，创建一个R2 bucket，我就叫img，将地址选在美国西部（这是因为后面的CDN也在美西）\n然后回到R2 Overview -\u003e 右上角Manage R2 API Tokens，取个名字，然后选择Object Read and Write，可以选择只应用于特定的Bucket，也可以不选\n然后会生成一堆信息，有Token value，Access Key ID，Secret Access Key和jurisdiction-specific endpoints，这个页面只显示一遍，建议拿个小本本记好\n再来到 img 桶 -\u003e Setting，里面有个 R2.dev subdomain 选择为Allow\n然后需要绑定一个域名，注意这里不能再使用 kyxie.me 了，但是可以设置一个子域名，比如img.kyxie.me，cloudflare会自动在DNS中添加一个Record\n回到PicGo，插件设置里搜索S3，然后安装S3插件，注意这里需要下载Node.js环境\n然后在图床设置中打开Amazon S3，然后配置信息，如图所示\n下面还有个自定义域名可以暂时填写 img.kyxie.me，为了让国内小伙伴也能打开图片，我使用WebP Cloud Services将图像缓存，这样会打开更快\n注册用户后点击Create Proxy -\u003e 选择美国Hillsboro, OR -\u003e Proxy Origin Url就是 http://img.kyxie.me，选择确定之后系统会生成一个url类似于 http://xxx.webp.li，再把这个url粘贴到PicGo的自定义域名，配置好之后如图所示\n这样我们的图床就搭建好了，PicGo也可以使用了，经过测试国内的小伙伴也都能打开图片了\n如果想添加水印，详细见这里\n",
  "wordCount" : "5358",
  "inLanguage": "zh",
  "datePublished": "2022-04-15T00:28:55-04:00",
  "dateModified": "2025-07-30T00:47:12-04:00",
  "author":{
    "@type": "Person",
    "name": "Kyxie"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://kyxie.me/zh/blog/tech/web/papermod/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Kunyang's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://kyxie.me/Favicon.png"
    }
  }
}
</script>

<script defer src="https://data.kyxie.me/script.js" data-website-id="f519035f-5ca2-4a99-bbee-e962a7344217"></script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://kyxie.me/zh/" accesskey="h" title="Home (Alt + H)">Home</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://kyxie.me/en/" title="English🇨🇦"
                            aria-label="English🇨🇦">English🇨🇦</a>
                    </li>
                </ul>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://kyxie.me/zh/comment/comments" title="留言板📋">
                    <span>留言板📋</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://kyxie.me/zh/">主页</a>&nbsp;»&nbsp;<a href="https://kyxie.me/zh/blog/">博客 📒</a>&nbsp;»&nbsp;<a href="https://kyxie.me/zh/blog/tech/">折腾 🔧</a>&nbsp;»&nbsp;<a href="https://kyxie.me/zh/blog/tech/web/">个人网站 🌐</a></div>
    <h1 class="post-title">
      Hugo &#43; PaperMod搭建技术博客
    </h1>
    <div class="post-meta">


<span title='2022-04-15 00:28:55 -0400 EDT'>2022-04-15</span>&nbsp;·&nbsp;11 分钟&nbsp;·&nbsp;5358 字&nbsp;·&nbsp;Kyxie&nbsp;|&nbsp;
<ul class="i18n_list">语言:
    <li>
        <a href="https://kyxie.me/en/blog/tech/web/papermod/">English🇨🇦</a>
    </li>
</ul>

</div>
  </header> <aside id="toc-container" class="toc-container wide">
        <div class="toc">
            <details  open>
                <summary accesskey="c" title="(Alt + C)">
                    <span class="details">目录</span>
                </summary>

                <div class="inner"><ul>
                        <li>
                            <a href="#%e5%ae%89%e8%a3%85%e8%bf%87%e7%a8%8b" aria-label="安装过程">安装过程</a></li>
                        <li>
                            <a href="#%e6%96%87%e4%bb%b6%e4%bb%8b%e7%bb%8d" aria-label="文件介绍">文件介绍</a></li>
                        <li>
                            <a href="#configyml" aria-label="Config.yml">Config.yml</a></li>
                        <li>
                            <a href="#%e5%88%9b%e5%bb%ba%e6%96%87%e7%ab%a0" aria-label="创建文章">创建文章</a></li>
                        <li>
                            <a href="#%e5%88%9b%e5%bb%ba%e5%ad%90%e6%96%87%e4%bb%b6%e5%a4%b9" aria-label="创建子文件夹">创建子文件夹</a></li>
                        <li>
                            <a href="#%e6%9c%80%e5%90%8e%e6%9b%b4%e6%96%b0" aria-label="最后更新">最后更新</a></li>
                        <li>
                            <a href="#%e6%9c%ac%e5%9c%b0%e9%a2%84%e8%a7%88" aria-label="本地预览">本地预览</a></li>
                        <li>
                            <a href="#%e7%bd%91%e7%ab%99%e9%83%a8%e7%bd%b2" aria-label="网站部署">网站部署</a></li>
                        <li>
                            <a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%9f%9f%e5%90%8d" aria-label="自定义域名">自定义域名</a></li>
                        <li>
                            <a href="#%e5%a4%9a%e8%af%ad%e8%a8%80" aria-label="多语言">多语言</a></li>
                        <li>
                            <a href="#%e6%90%9c%e7%b4%a2%e5%8a%9f%e8%83%bd" aria-label="搜索功能">搜索功能</a></li>
                        <li>
                            <a href="#hover" aria-label="Hover">Hover</a></li>
                        <li>
                            <a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e7%a4%be%e4%ba%a4%e5%aa%92%e4%bd%93%e5%9b%be%e6%a0%87" aria-label="自定义社交媒体图标">自定义社交媒体图标</a></li>
                        <li>
                            <a href="#%e7%9b%ae%e5%bd%95%e6%a0%8f%e7%9b%ae%e6%94%be%e4%be%a7%e8%be%b9" aria-label="目录栏目放侧边">目录栏目放侧边</a></li>
                        <li>
                            <a href="#markdown%e6%b8%b2%e6%9f%93%e9%a3%8e%e6%a0%bc" aria-label="Markdown渲染风格">Markdown渲染风格</a></li>
                        <li>
                            <a href="#%e6%b5%81%e9%87%8f%e7%bb%9f%e8%ae%a1" aria-label="流量统计">流量统计</a></li>
                        <li>
                            <a href="#%e6%8f%92%e5%85%a5b%e7%ab%99youtube%e8%a7%86%e9%a2%91%e6%88%96ppt" aria-label="插入B站，YouTube视频或PPT">插入B站，YouTube视频或PPT</a></li>
                        <li>
                            <a href="#%e6%8f%92%e5%85%a5%e9%9f%b3%e4%b9%90%e6%92%ad%e6%94%be%e5%99%a8" aria-label="插入音乐播放器"><del>插入音乐播放器</del></a></li>
                        <li>
                            <a href="#%e4%bf%ae%e6%94%b9%e5%85%a8%e5%b1%80%e5%ad%97%e4%bd%93" aria-label="修改全局字体">修改全局字体</a></li>
                        <li>
                            <a href="#%e4%bf%ae%e6%94%b9%e4%bb%a3%e7%a0%81%e5%ad%97%e4%bd%93" aria-label="修改代码字体">修改代码字体</a></li>
                        <li>
                            <a href="#%e8%af%84%e8%ae%ba%e5%8a%9f%e8%83%bd" aria-label="评论功能">评论功能</a></li>
                        <li>
                            <a href="#gmail%e9%82%ae%e7%ae%b1%e9%85%8d%e7%bd%ae" aria-label="Gmail邮箱配置">Gmail邮箱配置</a></li>
                        <li>
                            <a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e9%82%ae%e7%ae%b1%e5%9b%9e%e5%a4%8d%e6%a8%a1%e6%9d%bf" aria-label="自定义邮箱回复模板">自定义邮箱回复模板</a></li>
                        <li>
                            <a href="#%e4%bb%a3%e7%a0%81%e9%ab%98%e4%ba%ae" aria-label="代码高亮">代码高亮</a></li>
                        <li>
                            <a href="#%e4%bb%a3%e7%a0%81%e8%be%b9%e6%a1%86%e5%9c%86%e8%a7%92" aria-label="代码边框圆角">代码边框圆角</a></li>
                        <li>
                            <a href="#%e6%b7%bb%e5%8a%a0%e5%8f%8b%e9%93%be" aria-label="添加友链">添加友链</a></li>
                        <li>
                            <a href="#%e5%9b%be%e5%ba%8a" aria-label="图床">图床</a>
                        </li>
                    </ul>
                </div>
            </details>
        </div>
    </aside>
    <script>
        let activeElement;
        let elements;
        window.addEventListener('DOMContentLoaded', function (event) {
            checkTocPosition();

            elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
            
            activeElement = elements[0];
            const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
            document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
        }, false);

        window.addEventListener('resize', function (event) {
            checkTocPosition();
        }, false);

        window.addEventListener('scroll', () => {
            
            activeElement = Array.from(elements).find((element) => {
                if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                    (getOffsetTop(element) - window.pageYOffset) < window.innerHeight / 2) {
                    return element;
                }
            }) || activeElement

            elements.forEach(element => {
                const id = encodeURI(element.getAttribute('id')).toLowerCase();
                if (element === activeElement) {
                    document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
                } else {
                    document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
                }
            })
        }, false);

        const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
        const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
        const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

        function checkTocPosition() {
            const width = document.body.scrollWidth;

            if (width - main - (toc * 2) - (gap * 4) > 0) {
                document.getElementById("toc-container").classList.add("wide");
            } else {
                document.getElementById("toc-container").classList.remove("wide");
            }
        }

        function getOffsetTop(element) {
            if (!element.getClientRects().length) {
                return 0;
            }
            let rect = element.getBoundingClientRect();
            let win = element.ownerDocument.defaultView;
            return rect.top + win.pageYOffset;
        }
    </script>
  <div class="post-content"><h2 id="安装过程">安装过程<a hidden class="anchor" aria-hidden="true" href="#安装过程">#</a></h2>
<ul>
<li>
<p>首先需要<a href="https://gohugo.io/getting-started/installing">安装Hugo</a>，安装Hugo需要利用一个包管理工具，对于Windows系统Hugo可以直接用<code>Winget</code>来安装，打开终端输入</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>winget install Hugo.Hugo.Extended
</span></span></code></pre></div><p>如果提示not recognized as the name of cmdlet，查找<code>C:\Users\Username\AppData\Local\Microsoft\WindowsApps</code>目录下有没有<code>winget.exe</code>，如果存在则添加这个目录到环境变量，否则去应用商店找<code>winget</code>，这是windows官方提供的windows包管理工具，一般系统里都会自带</p>
</li>
<li>
<p>Hugo的<a href="https://gohugo.io/getting-started/quick-start/">tutorial</a>介绍了如何创建一个项目，其中step2（.yml的config文件）和step3（下载主题）要根据PaperMod的<a href="https://github.com/adityatelange/hugo-PaperMod/wiki/Installation">guide</a>来配置</p>
</li>
</ul>
<h2 id="文件介绍">文件介绍<a hidden class="anchor" aria-hidden="true" href="#文件介绍">#</a></h2>
<ul>
<li><code>content</code>：用于放博客内容</li>
<li><code>data</code>：不用管</li>
<li><code>layouts</code>：自定义的HTML</li>
<li><code>public</code>：项目导出文件</li>
<li><code>resources</code>：自定义的CSS和JavaScript</li>
<li><code>static</code>：存放的图片</li>
<li><code>themes</code>：主题</li>
</ul>
<p>进入<code>themes/PaperMod</code>则是PaperMod的相关代码，比较主要的目录有：</p>
<ul>
<li><code>assets</code>：PaperMod的CSS和JavaScript代码</li>
<li><code>layouts</code>：PaperMod的HTML</li>
</ul>
<h2 id="configyml">Config.yml<a hidden class="anchor" aria-hidden="true" href="#configyml">#</a></h2>
<p>建议直接按照<a href="https://github.com/xyming108/sulv-hugo-papermod/blob/main/config.yml">GitHub - xyming108/sulv-hugo-papermod</a>进行配置</p>
<h2 id="创建文章">创建文章<a hidden class="anchor" aria-hidden="true" href="#创建文章">#</a></h2>
<p>在终端输入 <code>hugo new 文章名称.md</code> 就会在 <code>content</code> 文件夹下创建markdown文件，文章头部信息可以修改这篇文章的属性</p>
<p>常见的头部字段功能</p>
<ul>
<li>
<p>基本字段</p>
<p><code>title</code>: 页面标题，用于显示在浏览器标题、文章标题等地方</p>
<p><code>date</code>: 创建日期，例如 2024-11-15T20:00:00+00:00</p>
<p><code>lastmod</code>: 最近修改时间，常用于生成更新时间</p>
<p><code>draft</code>: 是否为草稿（true 表示草稿，生成站点时会被忽略）</p>
<p><code>author</code>: 作者名称 description: 页面描述，用于 SEO 和摘要</p>
<p><code>slug</code>: 页面友好的 URL 片段</p>
<p><code>url</code>: 自定义页面 URL type: 页面类型（例如 post、page），决定模板的选择</p>
</li>
<li>
<p>分类和标签</p>
<p><code>categories</code>: 页面所属分类，例如 [&ldquo;Tech&rdquo;, &ldquo;Programming&rdquo;]</p>
<p><code>tags</code>: 页面标签，例如 [&ldquo;Hugo&rdquo;, &ldquo;Static Site Generator&rdquo;]</p>
</li>
<li>
<p>页面内容控制</p>
<p><code>summary</code>: 页面摘要，如果未指定，会自动从内容中提取</p>
<p><code>weight</code>: 排序权重，数值越小越靠前</p>
<p><code>aliases</code>: 页面别名，用于创建 URL 重定向，例如 [&quot;/old-url/&quot;]</p>
<p><code>layout</code>: 指定使用的布局模板，例如 single 或 list</p>
<p><code>outputs</code>: 输出格式，默认是 HTML，可以是 JSON、AMP 等</p>
<p><code>resources</code>: 页面资源，用于定义图片、PDF 等</p>
</li>
<li>
<p>SEO和社交</p>
<p><code>keywords</code>: 页面关键字，例如 [&ldquo;Hugo&rdquo;, &ldquo;Markdown&rdquo;, &ldquo;SEO&rdquo;]</p>
<p><code>canonical</code>: Canonical URL，指定搜索引擎的首选页面地址</p>
<p><code>images</code>: 页面分享时的图片链接（用于社交平台）</p>
</li>
</ul>
<h2 id="创建子文件夹">创建子文件夹<a hidden class="anchor" aria-hidden="true" href="#创建子文件夹">#</a></h2>
<p>可以直接用文件夹来管理目录，比如这是我中文博客的目录</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>@Kunyang ➜ blog git<span style="color:#f92672">(</span>master<span style="color:#f92672">)</span> tree /F
</span></span><span style="display:flex;"><span>D:.
</span></span><span style="display:flex;"><span>│   _index.md
</span></span><span style="display:flex;"><span>│
</span></span><span style="display:flex;"><span>├───Life
</span></span><span style="display:flex;"><span>│	...
</span></span><span style="display:flex;"><span>├───Tech
</span></span><span style="display:flex;"><span>│   │   _index.md
</span></span><span style="display:flex;"><span>│   │
</span></span><span style="display:flex;"><span>│   ├───Web
</span></span><span style="display:flex;"><span>│   │       Papermod.md
</span></span><span style="display:flex;"><span>|   |       ...
</span></span><span style="display:flex;"><span>│   │       _index.md
</span></span><span style="display:flex;"><span>│   │...
</span></span><span style="display:flex;"><span>│
</span></span><span style="display:flex;"><span>└───Wool
</span></span><span style="display:flex;"><span>	...
</span></span></code></pre></div><p>可以看到每一层都有一个 <code>_index.md </code>用来管理文件层级，文件中只包含头部信息。由于我使用了多语言，因此第一层不要添加 <code>url</code> 字段</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># zh/blog/_index.md</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;博客 📒&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">date</span>: <span style="color:#e6db74">2022-06-11T21:59:32</span><span style="color:#ae81ff">-04</span>:<span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">draft</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">hidemeta</span>: <span style="color:#66d9ef">true</span>
</span></span></code></pre></div><p>除此之外，在其他的子文件夹中的 <code>_index.md</code> 建议都添加 <code>url</code> 字段</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># zh/blog/tech/web/_index.md</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;建站 🚧&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">date</span>: <span style="color:#e6db74">2024-11-15T01:01:32</span><span style="color:#ae81ff">-04</span>:<span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">draft</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">hidemeta</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">url</span>: <span style="color:#e6db74">&#34;/zh/blog/tech/web/&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">weight</span>: <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>可以使用 <code>weight</code> 字段来排序</p>
<h2 id="最后更新">最后更新<a hidden class="anchor" aria-hidden="true" href="#最后更新">#</a></h2>
<p>可以修改 <code>post_meta.html</code> 加入</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- $scratch := newScratch }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{ $date := .Date }}
</span></span><span style="display:flex;"><span>{{ $lastmod := &#34;&#34; }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{- if not .Lastmod.IsZero -}}
</span></span><span style="display:flex;"><span>  {{ $lastmod = .Lastmod }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{- if not .Date.IsZero -}}
</span></span><span style="display:flex;"><span>{{- $scratch.Add &#34;meta&#34; (slice (printf &#34;&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%s&#39;</span>&gt;%s&lt;/<span style="color:#f92672">span</span>&gt;&#34; (.Date) (.Date | time.Format (default &#34;January 2, 2006&#34; site.Params.DateFormat)))) }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{- if ne $lastmod $date -}}
</span></span><span style="display:flex;"><span>{{- $scratch.Add &#34;meta&#34; (slice (printf &#34;&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%s&#39;</span>&gt;%s%s&lt;/<span style="color:#f92672">span</span>&gt;&#34; (.Lastmod) (i18n &#34;updated&#34;) (.Lastmod | time.Format (default &#34;January 2, 2006&#34; site.Params.DateFormat)))) }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>{{- with ($scratch.Get &#34;meta&#34;) }}
</span></span><span style="display:flex;"><span>{{- delimit . &#34;&amp;nbsp;·&amp;nbsp;&#34; -}}
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span></code></pre></div><h2 id="本地预览">本地预览<a hidden class="anchor" aria-hidden="true" href="#本地预览">#</a></h2>
<ul>
<li>在终端输入 <code>hugo server -D</code> 启动，建议新建一个.bat文件执行这条指令。</li>
<li>启动服务器后，打开浏览器，本地预览网址为 <code>localhost:1313</code>。</li>
</ul>
<h2 id="网站部署">网站部署<a hidden class="anchor" aria-hidden="true" href="#网站部署">#</a></h2>
<p>我用的是GitHub Page</p>
<ul>
<li>在GitHub里创建一个仓库，名称叫做 <code>你的名字.github.io</code></li>
<li>当我们本地预览没问题了的时候，在终端输入 <code>hugo -F --cleanDestinationDir</code>，在 <code>public</code> 文件夹下就会生成输出文件</li>
<li>我们将 <code>public</code> 文件夹作为GitHub Page的本地仓库，每次生成输出文件就推送到GitHub上，GitHub Page就会自动帮我们部署了</li>
</ul>
<h2 id="自定义域名">自定义域名<a hidden class="anchor" aria-hidden="true" href="#自定义域名">#</a></h2>
<p>建议早一点买个域名，避免配置完一遍结果更换了域名又得重新再配置一遍。</p>
<ul>
<li>
<p>点击GitHub右上角头像 → Settings → Pages → Add a Domain</p>
</li>
<li>
<p>填入自己的域名，我的是 <code>kyxie.me</code>，然后会生成一个DNS TXT record，相当于一个用户名和密码，验证一下这个域名是属于你的</p>
<p><img loading="lazy" src="https://e8dd19b.webp.li/2024/11/eeb327c6c8fff7d671450ca2d7576600.png?visual_effect=watermark,text__QEt5eGll,width__0.15,height__0.05,offset_x__0.8,offset_y__0.9,color__D3D3D3,font__QXJjaGl0ZWN0cyBEYXVnaHRlcg" alt="DNS TXT Record"  />
</p>
</li>
<li>
<p>我的域名是在cloudflare申请的，在kyxie.me -&gt; DNS -&gt; Records -&gt; Add Records，添加三条规则，前两条为</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Target</th>
</tr>
</thead>
<tbody>
<tr>
<td>CNAME</td>
<td>@</td>
<td>kyxie.github.io</td>
</tr>
<tr>
<td>CNAME</td>
<td>www</td>
<td>kyxie.github.io</td>
</tr>
</tbody>
</table>
<p>第三条Type是TXT，Name为GitHub生成的Record，TTL选择Auto，Content是GitHub生成的Value</p>
</li>
<li>
<p>然后在SSL/TLS -&gt; Edge Certificates -&gt; 勾选Always Use HTTPS</p>
<p><img loading="lazy" src="https://e8dd19b.webp.li/2024/11/671ab6ba9071fd33fff975b7618ffc26.png?visual_effect=watermark,text__QEt5eGll,width__0.15,height__0.05,offset_x__0.8,offset_y__0.9,color__D3D3D3,font__QXJjaGl0ZWN0cyBEYXVnaHRlcg" alt="Always Use HTTPS"  />
</p>
</li>
<li>
<p>配置完后回到GitHub，点击Verify，成功后会如图所示</p>
<p><img loading="lazy" src="https://e8dd19b.webp.li/2024/11/b64cf668818111b04b83a49fe5c5c6ae.png?visual_effect=watermark,text__QEt5eGll,width__0.15,height__0.05,offset_x__0.8,offset_y__0.9,color__D3D3D3,font__QXJjaGl0ZWN0cyBEYXVnaHRlcg" alt="Verified"  />
</p>
</li>
<li>
<p>我的网站框架为Hugo，在static文件下添加一个文件 <code>CNAME</code>，没有后缀名，内容为你的域名 <code>kyxie.me</code>，然后publish出来push到GitHub就好了</p>
</li>
</ul>
<h2 id="多语言">多语言<a hidden class="anchor" aria-hidden="true" href="#多语言">#</a></h2>
<ul>
<li>
<p>如果我们想要使用多语言（中英为例），就需要在 <code>content</code> 文件夹下准备两个文件夹，例如 <code>Chinese</code> 和<code>English</code>，一个放中文，另一个放英文。</p>
</li>
<li>
<p>在 <code>config.yml</code> 中需要做以下修改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">defaultContentLanguage</span>: <span style="color:#ae81ff">en</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">defaultContentLanguageInSubdir</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">languages</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">en</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">languageName</span>: <span style="color:#e6db74">&#34;English&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">contentDir</span>: <span style="color:#ae81ff">content/English</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">zh</span>:
</span></span><span style="display:flex;"><span>    	<span style="color:#f92672">languageName</span>: <span style="color:#e6db74">&#34;中文&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">contentDir</span>: <span style="color:#ae81ff">content/Chinese</span>
</span></span></code></pre></div></li>
</ul>
<h2 id="搜索功能">搜索功能<a hidden class="anchor" aria-hidden="true" href="#搜索功能">#</a></h2>
<ul>
<li>
<p>分别在中英文的文件夹下创建 <code>search.md</code>（<code>hugo new search.md</code>），修改文件头为</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;Search&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">date</span>: <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">draft</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">layout</span>: <span style="color:#ae81ff">search</span>
</span></span></code></pre></div></li>
<li>
<p><code>config.yml</code>中添加</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">menu</span>:
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">main</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">-identifier</span>: <span style="color:#ae81ff">Search</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">name</span>: <span style="color:#ae81ff">Search</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">url</span>: <span style="color:#ae81ff">search</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">weight</span>: <span style="color:#ae81ff">...</span>
</span></span></code></pre></div></li>
</ul>
<h2 id="hover">Hover<a hidden class="anchor" aria-hidden="true" href="#hover">#</a></h2>
<p>主要在 <code>themes/PaperMod/assets/css/common/header.css</code> 中修改。</p>
<ul>
<li>
<p>左上角Home的hover</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>.<span style="color:#a6e22e">logo</span> <span style="color:#f92672">a</span>:<span style="color:#a6e22e">hover</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">transition</span>: <span style="color:#ae81ff">0.15</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#66d9ef">grey</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>社交媒体hover</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#f92672">svg</span>:<span style="color:#a6e22e">hover</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">transition</span>: <span style="color:#ae81ff">0.15</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">social-icons</span> <span style="color:#f92672">a</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">1</span><span style="color:#f92672">)</span> <span style="color:#f92672">svg</span>:<span style="color:#a6e22e">hover</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#C84370</span> <span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">social-icons</span> <span style="color:#f92672">a</span>:<span style="color:#a6e22e">nth-child</span><span style="color:#f92672">(</span><span style="color:#f92672">2</span><span style="color:#f92672">)</span> <span style="color:#f92672">svg</span>:<span style="color:#a6e22e">hover</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#66d9ef">grey</span> <span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span></code></pre></div></li>
</ul>
<p><code>nth-child</code>可以设置各个图标的hover颜色</p>
<ul>
<li>
<p>黑夜模式和白天模式的hover</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>#moon:<span style="color:#a6e22e">hover</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">transition</span>: <span style="color:#ae81ff">0.15</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#66d9ef">deepskyblue</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#sun:<span style="color:#a6e22e">hover</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">transition</span>: <span style="color:#ae81ff">0.15</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#66d9ef">gold</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>menu中链接hover</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>#menu <span style="color:#f92672">a</span>:<span style="color:#a6e22e">hover</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">transition</span>: <span style="color:#ae81ff">0.15</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#66d9ef">grey</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>按钮hover，在<code>themes/PaperMod/assets/css/common/profile-mode.css</code>中修改</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>.<span style="color:#a6e22e">button</span>:<span style="color:#a6e22e">hover</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">-webkit-</span><span style="color:#66d9ef">transform</span>: scale(<span style="color:#ae81ff">1.1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">-moz-</span><span style="color:#66d9ef">transform</span>: scale(<span style="color:#ae81ff">1.1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">-ms-</span><span style="color:#66d9ef">transform</span>: scale(<span style="color:#ae81ff">1.1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">-o-</span><span style="color:#66d9ef">transform</span>: scale(<span style="color:#ae81ff">1.1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* box-shadow: 0 0 0 1px grey; */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">transform</span>: scale(<span style="color:#ae81ff">1.1</span>) translateZ(<span style="color:#ae81ff">0</span>) translate3d(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>) rotate(<span style="color:#ae81ff">0.01</span><span style="color:#66d9ef">deg</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h2 id="自定义社交媒体图标">自定义社交媒体图标<a hidden class="anchor" aria-hidden="true" href="#自定义社交媒体图标">#</a></h2>
<ul>
<li>
<p>利用SVG图标制作网站，比如<a href="https://icons8.com/">icons8</a>，找到我们需要的图标，例如<a href="https://icons8.com/icons/set/wechat">微信</a></p>
</li>
<li>
<p>可以利用左侧菜单栏的Stroke调节线条粗细</p>
</li>
<li>
<p>点击 <code>download</code>，<code>SVG Embed</code>，自定义图标大小为24*24，然后点击 <code>copy HTML</code></p>
</li>
<li>
<p>在 <code>themes/PaperMod/layouts/partials/svg.html</code> 中粘贴复制的HTML</p>
</li>
<li>
<p>需要修改为 <code>fill=currentColor stroke=currentColor</code>，才能适应白天黑夜切换</p>
</li>
<li>
<p>微信和微博的图标</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- else if (eq $icon_name &#34;wechat&#34;) -}}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">xmlns</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span> <span style="color:#a6e22e">x</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0px&#34;</span> <span style="color:#a6e22e">y</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0px&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;24&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;24&#34;</span> <span style="color:#a6e22e">viewBox</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0 0 50 50&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">g</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;currentColor&#34;</span> <span style="color:#a6e22e">stroke</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;currentColor&#34;</span> <span style="color:#a6e22e">stroke-width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;2&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">path</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">d</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;M 19 6 C 9.746094 6 2 12.359375 2 20.5 C 2 24.894531 4.292969 28.679688 7.835938 31.324219 L 5.179688 39.304688 L 13.472656 34.167969 C 15.1875 34.707031 17.082031 35 19 35 C 19.746094 35 20.472656 34.945313 21.195313 34.863281 C 23.378906 39.105469 28.328125 42 34 42 C 35.722656 42 37.316406 41.675781 38.796875 41.234375 L 45.644531 45.066406 L 43.734375 38.515625 C 46.3125 36.375 48 33.394531 48 30 C 48 23.789063 42.597656 18.835938 35.75 18.105469 C 34.398438 11.125 27.324219 6 19 6 Z M 19 8 C 26.308594 8 32.328125 12.351563 33.703125 18.011719 C 26.183594 18.148438 20 23.355469 20 30 C 20 31.019531 20.160156 32.003906 20.4375 32.941406 C 19.964844 32.980469 19.484375 33 19 33 C 17.101563 33 15.199219 32.710938 13.632813 32.15625 L 13.183594 32 L 8.820313 34.699219 L 10.1875 30.59375 L 9.5625 30.171875 C 6.082031 27.820313 4 24.445313 4 20.5 C 4 13.640625 10.65625 8 19 8 Z M 13 14 C 11.898438 14 11 14.898438 11 16 C 11 17.101563 11.898438 18 13 18 C 14.101563 18 15 17.101563 15 16 C 15 14.898438 14.101563 14 13 14 Z M 25 14 C 23.898438 14 23 14.898438 23 16 C 23 17.101563 23.898438 18 25 18 C 26.101563 18 27 17.101563 27 16 C 27 14.898438 26.101563 14 25 14 Z M 34 20 C 40.746094 20 46 24.535156 46 30 C 46 32.957031 44.492188 35.550781 42.003906 37.394531 L 41.445313 37.8125 L 42.355469 40.933594 L 39.105469 39.109375 L 38.683594 39.25 C 37.285156 39.71875 35.6875 40 34 40 C 27.253906 40 22 35.464844 22 30 C 22 24.535156 27.253906 20 34 20 Z M 29.5 26 C 28.699219 26 28 26.699219 28 27.5 C 28 28.300781 28.699219 29 29.5 29 C 30.300781 29 31 28.300781 31 27.5 C 31 26.699219 30.300781 26 29.5 26 Z M 38.5 26 C 37.699219 26 37 26.699219 37 27.5 C 37 28.300781 37.699219 29 38.5 29 C 39.300781 29 40 28.300781 40 27.5 C 40 26.699219 39.300781 26 38.5 26 Z&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">path</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">g</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">svg</span>&gt;
</span></span><span style="display:flex;"><span>{{- else if (eq $icon_name &#34;weibo&#34;) -}}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">xmlns</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span> <span style="color:#a6e22e">x</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0px&#34;</span> <span style="color:#a6e22e">y</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0px&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;24&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;24&#34;</span> <span style="color:#a6e22e">viewBox</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0 0 172 172&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">g</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;currentColor&#34;</span> <span style="color:#a6e22e">stroke</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;currentColor&#34;</span> <span style="color:#a6e22e">stroke-width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;4&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">path</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">d</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;M120.4,20.64c-2.67406,0 -5.25406,0.26875 -7.74,0.71219c-1.86781,0.3225 -3.1175,2.10969 -2.795,3.9775c0.3225,1.88125 2.10969,3.13094 3.9775,2.80844c2.17688,-0.38969 4.35375,-0.61813 6.5575,-0.61813c20.93563,0 37.84,16.90438 37.84,37.84c0,4.52844 -0.83312,8.85531 -2.31125,12.91344c-0.45687,1.16906 -0.25531,2.48594 0.5375,3.45344c0.80625,0.9675 2.05594,1.42437 3.29219,1.19594c1.23625,-0.22844 2.24406,-1.11531 2.63375,-2.29781c1.73344,-4.75687 2.72781,-9.87656 2.72781,-15.265c0,-24.65781 -20.06219,-44.72 -44.72,-44.72zM120.4,41.28c-1.46469,0 -2.84875,0.14781 -4.16562,0.37625c-1.86781,0.33594 -3.13094,2.10969 -2.795,3.99094c0.3225,1.86781 2.10969,3.1175 3.9775,2.795c1.00781,-0.17469 2.00219,-0.28219 2.98312,-0.28219c9.54063,0 17.2,7.65938 17.2,17.2c0,2.05594 -0.37625,4.01781 -1.06156,5.87219c-0.645,1.78719 0.28219,3.7625 2.06938,4.4075c1.78719,0.645 3.7625,-0.26875 4.4075,-2.05594c0.92719,-2.55312 1.46469,-5.32125 1.46469,-8.22375c0,-13.26281 -10.81719,-24.08 -24.08,-24.08zM72.46844,42.6775c-11.04562,0 -27.50656,8.66719 -42.18031,23.07219c-14.76781,14.76781 -23.40813,30.24781 -23.40813,43.57781c0,25.9075 33.12344,41.3875 65.88406,41.3875c42.47594,0 70.90969,-24.46969 70.90969,-43.91375c0,-11.87875 -10.07812,-18.35562 -19.08125,-21.23125c-2.15,-0.72562 -3.60125,-1.08844 -2.52625,-3.96406c0.72563,-1.73344 1.77375,-5.01219 1.77375,-9.36594c0,-4.945 -3.44,-9.23156 -10.32,-9.9975c-0.79281,-0.08062 -2.13656,-0.14781 -3.82969,-0.14781c-5.6975,0 -15.48,0.71219 -22.52125,3.66844c0,0 -1.38406,0.57781 -2.49938,0.57781c-1.00781,0 -1.80062,-0.48375 -1.11531,-2.37844c2.52625,-7.91469 2.16344,-14.39156 -1.80063,-18.00625c-2.23062,-2.23062 -5.42875,-3.27875 -9.28531,-3.27875zM72.46844,49.5575c1.43781,0 3.37281,0.215 4.43438,1.26313l0.1075,0.12094l0.12094,0.1075c1.54531,1.41094 1.51844,5.61687 -0.09406,10.72312c-1.38406,3.99094 -0.09406,6.75906 0.81969,8.04906c1.51844,2.16344 4.00437,3.39969 6.81281,3.39969c2.28438,0 4.39406,-0.79281 5.14656,-1.11531c5.50938,-2.31125 13.88094,-3.13094 19.87406,-3.13094c1.53187,0 2.60687,0.05375 3.07719,0.1075c2.78156,0.30906 4.1925,1.37063 4.1925,3.15781c0,3.23844 -0.77937,5.61688 -1.23625,6.73219l-0.05375,0.1075l-0.04031,0.09406c-1.075,2.88906 -1.06156,5.50938 0.04031,7.80719c1.62594,3.39969 4.82406,4.46125 6.54406,5.03906l0.28219,0.09406c5.34813,1.70656 14.2975,5.88562 14.2975,14.68719c0,7.90125 -6.81281,17.65688 -18.90656,25.16844c4.77031,-5.54969 7.47125,-12.05344 7.47125,-19.05437c0,-21.01625 -24.37562,-37.47719 -55.48344,-37.47719c-31.10781,0 -55.47,16.46094 -55.47,37.47719c0,0.645 0.01344,1.27656 0.05375,1.90812c-0.45687,-1.76031 -0.69875,-3.60125 -0.69875,-5.49594c0,-11.16656 7.59219,-24.91312 21.33875,-38.65969c14.86188,-14.59313 29.48188,-21.11031 37.36969,-21.11031zM69.875,82.33156c26.84813,0 48.60344,13.69281 48.60344,30.59719c0,16.89094 -21.75531,30.58375 -48.60344,30.58375c-26.83469,0 -48.59,-13.69281 -48.59,-30.58375c0,-16.90437 21.75531,-30.59719 48.59,-30.59719zM66.27375,89.52063c-10.38719,0.08062 -20.47875,5.76469 -24.85937,14.52594c-5.40188,11.13969 -0.36281,23.38125 12.59094,27.33187c12.95375,4.31344 28.42031,-2.16344 33.82219,-14.02875c5.38844,-11.5025 -1.43781,-23.73062 -14.39156,-26.95562c-2.365,-0.61813 -4.77031,-0.88688 -7.16219,-0.87344zM71.63531,104.06c1.98875,0 3.60125,1.59906 3.60125,3.58781c0,1.98875 -1.6125,3.60125 -3.60125,3.60125c-1.98875,0 -3.60125,-1.6125 -3.60125,-3.60125c0,-1.98875 1.6125,-3.58781 3.60125,-3.58781zM56.47781,107.64781c1.12875,0.01344 2.2575,0.18812 3.31906,0.55094c4.60906,1.46469 6.02,5.83188 3.18469,9.47344c-2.4725,3.64156 -8.12969,5.45563 -12.38938,3.64156c-4.23281,-1.81406 -5.29437,-6.19469 -2.82187,-9.46c1.85437,-2.74125 5.30781,-4.24625 8.7075,-4.20594z&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">path</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">g</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">path</span> <span style="color:#a6e22e">d</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;none&#34;</span>&gt;&lt;/<span style="color:#f92672">path</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">svg</span>&gt;
</span></span></code></pre></div></li>
</ul>
<h2 id="目录栏目放侧边">目录栏目放侧边<a hidden class="anchor" aria-hidden="true" href="#目录栏目放侧边">#</a></h2>
<p>详见：<a href="https://github.com/xyming108/sulv-hugo-papermod">GitHub - xyming108/sulv-hugo-papermod</a>。</p>
<h2 id="markdown渲染风格">Markdown渲染风格<a hidden class="anchor" aria-hidden="true" href="#markdown渲染风格">#</a></h2>
<p>详见：<a href="https://dvel.me/posts/hugo-papermod-config/">折腾 Hugo &amp; PaperMod 主题 - Dvel&rsquo;s Blog</a></p>
<h2 id="流量统计">流量统计<a hidden class="anchor" aria-hidden="true" href="#流量统计">#</a></h2>
<p>我使用了Umami，详见：<a href="/zh/blog/tech/web/umami/">Debian使用Docker部署Umami | Kunyang&rsquo;s Blog</a></p>
<h2 id="插入b站youtube视频或ppt">插入B站，YouTube视频或PPT<a hidden class="anchor" aria-hidden="true" href="#插入b站youtube视频或ppt">#</a></h2>
<p>详见：<a href="https://github.com/xyming108/sulv-hugo-papermod">GitHub - xyming108/sulv-hugo-papermod</a></p>
<h2 id="插入音乐播放器"><del>插入音乐播放器</del><a hidden class="anchor" aria-hidden="true" href="#插入音乐播放器">#</a></h2>
<p><del>详见：<a href="https://mrbruce516.top/2020/011/">Hugo插入音乐播放器</a></del></p>
<p><del>隐藏歌词：<code>lrc-type=0</code></del></p>
<h2 id="修改全局字体">修改全局字体<a hidden class="anchor" aria-hidden="true" href="#修改全局字体">#</a></h2>
<p>首先找到喜欢的字体，然后可以在Google Fonts中查询字体，我目前的文章字体为<a href="https://www.cdnfonts.com/code-new-roman.font">CodeNewRoman</a>。Google Fonts会生成HTML和css，将HTML插入到<code>themes/PaperMod/layouts/partials/extend_head.html</code>中，将CSS插入到<code>themes/PaperMod/assets/css/extended/blank.css</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#f92672">body</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-family</span>: <span style="color:#e6db74">&#39;Code New Roman&#39;</span>, <span style="color:#66d9ef">sans-serif</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">line-height</span>: <span style="color:#ae81ff">1.5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="修改代码字体">修改代码字体<a hidden class="anchor" aria-hidden="true" href="#修改代码字体">#</a></h2>
<p>与全局字体类似，区别为CSS代码插入的位置不同。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>.<span style="color:#a6e22e">post-content</span> <span style="color:#f92672">pre</span><span style="color:#f92672">,</span> <span style="color:#f92672">code</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-family</span>: <span style="color:#e6db74">&#39;Code New Roman&#39;</span>, <span style="color:#66d9ef">sans-serif</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">max-height</span>: <span style="color:#ae81ff">40</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="评论功能">评论功能<a hidden class="anchor" aria-hidden="true" href="#评论功能">#</a></h2>
<p>详见：<a href="https://github.com/xyming108/sulv-hugo-papermod">GitHub - xyming108/sulv-hugo-papermod</a></p>
<h2 id="gmail邮箱配置">Gmail邮箱配置<a hidden class="anchor" aria-hidden="true" href="#gmail邮箱配置">#</a></h2>
<ul>
<li>
<p>登录<a href="https://myaccount.google.com/">Google Account</a>，进入Security / Signing in to Google / 2-Step Verification / App passwords。点击Generate，并记住这个16位的密码</p>
</li>
<li>
<p>在Twikoo中进行配置：</p>
<ul>
<li>
<p>SENDER_EMAIL：你的gmail邮箱</p>
</li>
<li>
<p>SENDER_NAME：发件人名，我写的是Notification from Kunyang&rsquo;s Blog</p>
</li>
<li>
<p>SMTP_SERVICE：Gmail</p>
</li>
<li>
<p>SMTP_HOST：smtp.gmail.com</p>
</li>
<li>
<p>SMTP_PORT：587</p>
</li>
<li>
<p>SMTP_SECURE：true</p>
</li>
<li>
<p>SMTP_USER：你的gmail邮箱</p>
</li>
<li>
<p>SMTP_PASS：16位的应用密码</p>
</li>
<li>
<p>SMTP_SUBJECT：邮件主题，我写的是You have received a response from Kunyang&rsquo;s Blog</p>
</li>
<li>
<p>MAIL_TEMPLATE：邮件模板，我的是</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">h2</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;border-bottom:1px solid #dddddd;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        You have received a new response from &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text-decoration:none;color:#12ADDB;&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://kyxie.github.io/&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span>&gt;Kunyang&#39;s Blog&lt;/<span style="color:#f92672">a</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>    ${PARENT_NICK} Your comment:
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;padding:0 12px 0 12px;margin-top:18px&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;background-color:#f5f5f5;padding:10px 15px;margin:18px 0;word-wrap:break-word;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            ${PARENT_COMMENT}
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">strong</span>&gt;${NICK}&lt;/<span style="color:#f92672">strong</span>&gt; says:
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;background-color:#f5f5f5;padding:10px 15px;margin:18px 0;word-wrap:break-word;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            ${COMMENT}
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>            Click &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text-decoration:none;color:#12ADDB;&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;${POST_URL}&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span>&gt;to view the reply&lt;/<span style="color:#f92672">a</span>&gt;, welcome to &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text-decoration:none;color:#12ADDB;&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;${SITE_URL}&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span>&gt;${SITE_NAME}&lt;/<span style="color:#f92672">a</span>&gt;。&lt;<span style="color:#f92672">br</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<p>配置完成后评论消息就会有gmail邮箱发送的邮件提醒了，outlook邮箱配置见：<a href="https://github.com/twikoojs/twikoo/discussions/249">关于邮箱配置的问题？ · twikoojs/twikoo · Discussion #249 (github.com)</a>。</p>
<h2 id="自定义邮箱回复模板">自定义邮箱回复模板<a hidden class="anchor" aria-hidden="true" href="#自定义邮箱回复模板">#</a></h2>
<p>详见：<a href="https://blog.guole.fun/posts/62740/">自定义Twikoo邮件通知模板 | Guo Le&rsquo;s Blog</a></p>
<h2 id="代码高亮">代码高亮<a hidden class="anchor" aria-hidden="true" href="#代码高亮">#</a></h2>
<p>在两个地方修改</p>
<p>一个是<code>themes/PaperMod/assets/css/common/post-single.css</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>.<span style="color:#a6e22e">post-content</span> <span style="color:#f92672">pre</span> <span style="color:#f92672">code</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#66d9ef">auto</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* 主要代码颜色 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#abb2bf</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">200</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">overflow-x</span>: <span style="color:#66d9ef">auto</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">word-break</span>: break-all;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>另一个是在<code>themes/PaperMod/assets/css/hljs/an-old-hope.min.css</code>，这是我自己修改的：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#75715e">/* 注释 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-comment</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-quote</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">200</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#7f848e</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-deletion</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* html标签 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-name</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-regexp</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-tag</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">200</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#e06c75</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* html属性 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-tag</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">200</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#d19a66</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* css类名 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-template-variable</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-variable</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-selector-class</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-selector-id</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">200</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#a9b600</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* 内置函数 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-built_in</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-builtin-name</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">200</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#56b6c2</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* 函数输入 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-params</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">200</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#e5c07b</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* 数字 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-number</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">200</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#d19a66</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* css属性 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-attribute</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">200</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#ee7c2b</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* 字符串 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-addition</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-bullet</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-symbol</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-string</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">200</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#98c379</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* 函数名称 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-section</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-title</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">200</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#56b6c2</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* 关键字 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-keyword</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-selector-tag</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-literal</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-link</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-meta</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-type</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">200</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#c678dd</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">overflow-x</span>: <span style="color:#66d9ef">auto</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#1c1d21</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#c0c5ce</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">0.5</span><span style="color:#66d9ef">em</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-emphasis</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-style</span>: <span style="color:#66d9ef">italic</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs-strong</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">700</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* 选中时的背景颜色 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs</span> ::<span style="color:#a6e22e">selection</span><span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">hljs</span>::<span style="color:#a6e22e">selection</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#3d4556</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="代码边框圆角">代码边框圆角<a hidden class="anchor" aria-hidden="true" href="#代码边框圆角">#</a></h2>
<p><code>themes/PaperMod/assets/css/common/post-single.css</code>中修改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>.<span style="color:#a6e22e">post-content</span> .<span style="color:#a6e22e">highlight</span> <span style="color:#f92672">pre</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">background-color</span>: <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>theme) <span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="添加友链">添加友链<a hidden class="anchor" aria-hidden="true" href="#添加友链">#</a></h2>
<p>详见：<a href="https://github.com/xyming108/sulv-hugo-papermod">GitHub - xyming108/sulv-hugo-papermod</a></p>
<h2 id="图床">图床<a hidden class="anchor" aria-hidden="true" href="#图床">#</a></h2>
<p>之前一直在使用Imgur的图床，但是国内的小伙伴说即使挂了梯子也看不到图片，现在有了域名打算利用Cloudflare自己做一个图床</p>
<ul>
<li>
<p>首先<a href="https://github.com/Molunerfinn/PicGo/releases">下载PicGo</a>，Windows用户可以在GitHub下载<code>.exe</code>文件，Mac用户则建议使用Homebrew下载，命令为</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>brew install picgo --cask
</span></span></code></pre></div><p>下载完之后在LaunchPad出现了PicGo的图标，但是假如显示损坏让你移动到垃圾桶，这时只需要在终端输入</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo xattr -r -d com.apple.quarantine /Applications/PicGo.app
</span></span></code></pre></div><p>就可以解决问题了，安装完之后出现在顶部状态栏（Windows在右下角）</p>
</li>
<li>
<p>然后回到Cloudflare，创建一个R2 bucket，我就叫<code>img</code>，将地址选在美国西部（这是因为后面的CDN也在美西）</p>
<p><img loading="lazy" src="https://e8dd19b.webp.li/2024/11/a189764ae3acfaf07353fce434d3d19d.png?visual_effect=watermark,text__QEt5eGll,width__0.15,height__0.05,offset_x__0.8,offset_y__0.9,color__D3D3D3,font__QXJjaGl0ZWN0cyBEYXVnaHRlcg" alt="Create a Bucket"  />
</p>
</li>
<li>
<p>然后回到R2 Overview -&gt; 右上角Manage R2 API Tokens，取个名字，然后选择Object Read and Write，可以选择只应用于特定的Bucket，也可以不选</p>
<p><img loading="lazy" src="https://e8dd19b.webp.li/2024/11/4796c02e7de771fec396239a1aa8bb50.png?visual_effect=watermark,text__QEt5eGll,width__0.15,height__0.05,offset_x__0.8,offset_y__0.9,color__D3D3D3,font__QXJjaGl0ZWN0cyBEYXVnaHRlcg" alt="Create API Token"  />
</p>
</li>
<li>
<p>然后会生成一堆信息，有Token value，Access Key ID，Secret Access Key和jurisdiction-specific endpoints，这个页面只显示一遍，建议拿个小本本记好</p>
</li>
<li>
<p>再来到 <code>img</code> 桶 -&gt; Setting，里面有个 <code>R2.dev subdomain</code> 选择为Allow</p>
</li>
<li>
<p>然后需要绑定一个域名，注意这里不能再使用 <code>kyxie.me</code> 了，但是可以设置一个子域名，比如<code>img.kyxie.me</code>，cloudflare会自动在DNS中添加一个Record</p>
</li>
<li>
<p>回到PicGo，插件设置里搜索S3，然后安装S3插件，注意这里需要下载Node.js环境</p>
<p><img loading="lazy" src="https://e8dd19b.webp.li/2024/11/0c41508739ce0c852a90ed2263acdebb.png?visual_effect=watermark,text__QEt5eGll,width__0.15,height__0.05,offset_x__0.8,offset_y__0.9,color__D3D3D3,font__QXJjaGl0ZWN0cyBEYXVnaHRlcg" alt="Install AWS S3"  />
</p>
</li>
<li>
<p>然后在图床设置中打开Amazon S3，然后配置信息，如图所示</p>
<p><img loading="lazy" src="https://e8dd19b.webp.li/2024/11/d6e32c236cb29615125905f06c948c56.png?visual_effect=watermark,text__QEt5eGll,width__0.15,height__0.05,offset_x__0.8,offset_y__0.9,color__D3D3D3,font__QXJjaGl0ZWN0cyBEYXVnaHRlcg" alt="PicGo Configuration"  />
</p>
</li>
<li>
<p>下面还有个自定义域名可以暂时填写 <code>img.kyxie.me</code>，为了让国内小伙伴也能打开图片，我使用<a href="https://webp.se">WebP Cloud Services</a>将图像缓存，这样会打开更快</p>
</li>
<li>
<p>注册用户后点击Create Proxy -&gt; 选择美国Hillsboro, OR -&gt; Proxy Origin Url就是 <code>http://img.kyxie.me</code>，选择确定之后系统会生成一个url类似于 <code>http://xxx.webp.li</code>，再把这个url粘贴到PicGo的自定义域名，配置好之后如图所示</p>
<p><img loading="lazy" src="https://e8dd19b.webp.li/2024/11/27a41115bedf2edb32a89914b91204c8.png?visual_effect=watermark,text__QEt5eGll,width__0.15,height__0.05,offset_x__0.8,offset_y__0.9,color__D3D3D3,font__QXJjaGl0ZWN0cyBEYXVnaHRlcg" alt="WebP Cloud Services Configuration"  />
</p>
</li>
<li>
<p>这样我们的图床就搭建好了，PicGo也可以使用了，经过测试国内的小伙伴也都能打开图片了</p>
</li>
<li>
<p>如果想添加水印，详细见<a href="https://docs.webp.se/webp-cloud/visual-effects/">这里</a></p>
</li>
</ul>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="https://kyxie.me/zh/blog/wool/credit-cards/">
    <span class="title">« 上一页</span>
    <br>
    <span>加拿大🇨🇦信用卡薅羊毛心得</span>
  </a>
  <a class="next" href="https://kyxie.me/zh/blog/bike/strava/">
    <span class="title">下一页 »</span>
    <br>
    <span>使用Docker部署Strava数据分析面板</span>
  </a>
</nav>




  </footer>
<div>
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 20px;">Tell me something...</span>
        <hr />
    </div>
    <div id="tcomment"></div>
    <script src="https://cdn.jsdelivr.net/npm/twikoo@1.5.10/dist/twikoo.all.min.js"></script>
    <script>
        twikoo.init({
            envId: "https://twikoo-kyxie.vercel.app/",  
            el: "#tcomment",
            lang: 'en-US',
            region: '',  
            path: window.TWIKOO_MAGIC_PATH || window.location.pathname,
        });
    </script>
</div>
</article>
    </main>
    
<footer class="footer">
  <span>
    &copy; 2025 <a href="https://kyxie.me/zh/">Kunyang&#39;s Blog</a>
  </span>
  <span id="umami-stats">
    | Visitors: <span id="uv-count"></span>
    Views: <span id="pv-count"></span>
  </span>
  <script
    src="https://umami-api.kyxie.me/script.js"
    defer
    init-visitors="38233"
    init-views="91643"
    ></script>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = '复制';

        function copyingDone() {
            copybutton.innerText = '已复制！';
            setTimeout(() => {
                copybutton.innerText = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
